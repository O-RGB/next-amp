<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta
      name="description"
      content="NEXTAMP โปรแกรมเล่นเพลงผ่านเว็บไซต์ ไม่ต้องติดตั้ง รองรับไฟล์เพลงคุณภาพสูง ปรับคีย์เพลง ความเร็ว และอีควอไลเซอร์ได้แบบเรียลไทม์ ใช้งานง่ายผ่านเบราว์เซอร์"
    />
    <meta
      name="keywords"
      content="nextamp, โปรแกรมเล่นเพลง, เล่นเพลงผ่านเว็บ, music player online, web music player, ไม่ต้องติดตั้ง, ปรับคีย์เพลง, เปลี่ยนคีย์เพลง, pitch shift เพลง, equalizer online, high quality audio, โปรแกรมเล่น mp3, karaoke web"
    />
    <meta name="author" content="NEXTAMP" />
    <meta property="og:title" content="NEXTAMP – โปรแกรมเล่นเพลงผ่านเว็บไซต์" />
    <meta
      property="og:description"
      content="เล่นเพลงผ่านเว็บ ไม่ต้องติดตั้ง ปรับคีย์เพลง ความเร็ว และอีควอไลเซอร์ได้ รองรับเสียงคุณภาพสูง"
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:image"
      content="https://next-amp-one.vercel.app/assets/logo/logo.png"
    />
    <meta property="og:site_name" content="NEXTAMP" />
    <meta name="theme-color" content="#111111" />
    <title>Nextamp Player - Web Music Tool</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;600&family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #111;
        color: #eee;
      }
      .pixel-font {
        font-family: "Chakra Petch", sans-serif;
      }
      .btn-start {
        background: #00ff00;
        color: black;
        box-shadow: 0 0 10px #00ff00;
        transition: all 0.2s;
        cursor: pointer;
      }
      .btn-start:hover {
        transform: scale(1.05);
        background: #fff;
        box-shadow: 0 0 20px #fff;
      }
      .btn-start:disabled {
        background: #555;
        color: #888;
        box-shadow: none;
        cursor: not-allowed;
      }
    </style>
  </head>
  <body>
    <div
      id="landing-container"
      class="max-w-4xl mx-auto p-6 min-h-screen flex flex-col justify-center items-center"
    >
      <img
        src="https://next-amp-one.vercel.app/assets/logo/logo.png"
        alt="Nextamp Logo"
        class="w-32 h-32 mb-6 rounded-xl shadow-2xl border border-gray-800"
      />

      <h1
        class="text-5xl font-bold mb-4 pixel-font text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-500 text-center leading-tight"
      >
        NEXTAMP PLAYER
      </h1>
      <p class="text-gray-400 mb-10 text-center max-w-lg text-lg">
        โปรแกรมเล่นเพลงและแกะเพลงบนเว็บที่ดีที่สุด <br />ปรับ Pitch, Speed และ
        EQ ได้ทันทีโดยไม่ต้องติดตั้ง
      </p>

      <button
        onclick="enterApp()"
        class="btn-start px-10 py-4 text-xl font-bold rounded pixel-font mb-16 flex items-center gap-3"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="currentColor"
          viewBox="0 0 24 24"
          class="w-8 h-8"
        >
          <path d="M8 5v14l11-7z" />
        </svg>
        START PLAYER
      </button>

      <article
        class="prose prose-invert prose-lg text-gray-300 w-full text-left bg-[#1a1a1a] p-8 rounded-2xl border border-gray-800 shadow-xl"
      >
        <div
          class="ad-placeholder w-full h-24 bg-black/50 border border-dashed border-gray-700 flex items-center justify-center mb-8 rounded text-sm text-gray-500"
        >
          [ วางโค้ด Google AdSense ตรงนี้ ]
        </div>

        <h2 class="text-2xl text-green-400 mb-4 pixel-font font-bold">
          NEXTAMP คืออะไร?
        </h2>
        <p class="mb-6">
          Nextamp เป็น Web Application
          สำหรับนักดนตรีและคนรักเสียงเพลงที่ต้องการความยืดหยุ่นในการฟังเพลง
          โดยเน้นฟีเจอร์ที่โปรแกรมเล่นเพลงทั่วไปไม่มี เช่น การปรับคีย์เพลง
          (Pitch Shifting) โดยไม่ทำให้ความเร็วเปลี่ยน
          ซึ่งเหมาะมากสำหรับการฝึกร้องเพลง หรือแกะเพลง
        </p>

        <h3 class="text-xl text-white mt-8 mb-3 font-bold">
          ฟีเจอร์เด่นที่คุณต้องลอง
        </h3>
        <ul class="list-disc pl-6 space-y-3 mb-8">
          <li>
            <strong class="text-green-300">High Quality Audio Engine:</strong>
            รองรับไฟล์ .mp3, .wav, .m4a ด้วยคุณภาพเสียงระดับ Audiophile
          </li>
          <li>
            <strong class="text-green-300">10-Band Equalizer:</strong>
            ปรับแต่งเสียงได้ละเอียด พร้อม Presets สำหรับแนวเพลงต่างๆ
          </li>
          <li>
            <strong class="text-green-300">Time Stretching:</strong>
            ยืดหรือหดความเร็วเพลงเพื่อการฝึกซ้อมดนตรี
          </li>
          <li>
            <strong class="text-green-300">Privacy First:</strong>
            ไฟล์เพลงของคุณจะถูกประมวลผลในเครื่อง (Local) ไม่มีการอัปโหลดขึ้น
            Server
          </li>
        </ul>

        <div
          class="ad-placeholder w-full h-24 bg-black/50 border border-dashed border-gray-700 flex items-center justify-center mt-8 rounded text-sm text-gray-500"
        >
          [ วางโค้ด Google AdSense ตรงนี้ ]
        </div>
      </article>

      <footer class="mt-12 text-gray-600 text-sm font-pixel">
        &copy; 2025 Nextamp. All rights reserved.
      </footer>
    </div>

    <script>
      async function enterApp() {
        const btn = document.querySelector(".btn-start");
        const originalText = btn.innerHTML;
        btn.innerHTML = '<span class="animate-pulse">LOADING SYSTEM...</span>';
        btn.disabled = true;

        try {
          // 1. Trigger Audio Context (User Gesture)
          const audio = new Audio("assets/sounds/allow-sound.mp3");
          audio.volume = 0.4;
          // เล่นเสียงและรอจนจบ หรือแค่เริ่มเล่นก็ได้
          await audio
            .play()
            .catch((e) => console.warn("Audio policy prevented play", e));

          // 2. Fetch App Content
          const response = await fetch("app.html");
          if (!response.ok) throw new Error("Failed to load application");
          const html = await response.text();

          // 3. Parse and Inject
          const parser = new DOMParser();
          const doc = parser.parseFromString(html, "text/html");

          // เปลี่ยน Title
          document.title = doc.title;

          // แทนที่ Body
          document.body.innerHTML = doc.body.innerHTML;
          document.body.className = doc.body.className; // เอา class ของ body มาด้วย (เช่น flex flex-col)
          document.body.style = ""; // Reset style ของ landing page

          // 4. ย้าย Styles (CSS) จาก app.html มาที่หน้านี้
          const newStyles = doc.querySelectorAll("style");
          newStyles.forEach((style) =>
            document.head.appendChild(style.cloneNode(true))
          );

          // 5. รัน Scripts (สำคัญมาก)
          const oldScripts = doc.querySelectorAll("script");
          for (let oldScript of oldScripts) {
            const newScript = document.createElement("script");
            Array.from(oldScript.attributes).forEach((attr) =>
              newScript.setAttribute(attr.name, attr.value)
            );
            if (oldScript.innerHTML) newScript.innerHTML = oldScript.innerHTML;
            document.body.appendChild(newScript);
          }
        } catch (error) {
          console.error(error);
          alert("Error loading Nextamp. Please refresh.");
          btn.innerHTML = originalText;
          btn.disabled = false;
        }
      }
    </script>
  </body>
</html>
