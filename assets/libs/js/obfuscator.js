const _0x235009=_0x1f6b;(function(_0x19f74f,_0x506746){const _0x525729=_0x1f6b,_0x734ed8=_0x19f74f();while(!![]){try{const _0x4dd4c3=-parseInt(_0x525729(0x25e))/0x1+-parseInt(_0x525729(0x1c7))/0x2*(parseInt(_0x525729(0x189))/0x3)+-parseInt(_0x525729(0x186))/0x4*(parseInt(_0x525729(0x1fd))/0x5)+parseInt(_0x525729(0x257))/0x6+-parseInt(_0x525729(0x17b))/0x7*(-parseInt(_0x525729(0x278))/0x8)+-parseInt(_0x525729(0x34c))/0x9*(-parseInt(_0x525729(0x242))/0xa)+-parseInt(_0x525729(0x220))/0xb*(-parseInt(_0x525729(0x1a1))/0xc);if(_0x4dd4c3===_0x506746)break;else _0x734ed8['push'](_0x734ed8['shift']());}catch(_0x17da12){_0x734ed8['push'](_0x734ed8['shift']());}}}(_0x11da,0xcb7a1));import _0x1aa533 from'../mjs/SignalsmithStretch.mjs';(function(){const _0x354f6e=_0x1f6b,_0x263a26=[_0x354f6e(0x328),_0x354f6e(0x2ef),_0x354f6e(0x1c4)],_0x5211b0=window[_0x354f6e(0x290)][_0x354f6e(0x209)];if(!_0x263a26[_0x354f6e(0x30f)](_0x5211b0)){document['body'][_0x354f6e(0x1c1)]=_0x354f6e(0x32f);throw new Error(_0x354f6e(0x2a6));}}()),(function(){const _0x548828=_0x1f6b,_0x2a0679=window[_0x548828(0x290)][_0x548828(0x1b1)]['endsWith'](_0x548828(0x222)),_0x1fb13e=sessionStorage[_0x548828(0x321)](_0x548828(0x26b))===_0x548828(0x236),_0x1f7438=/iPhone|iPad|iPod|Android/i[_0x548828(0x2ac)](navigator[_0x548828(0x303)]),_0x52e050=new URLSearchParams(window[_0x548828(0x290)][_0x548828(0x1c8)]),_0x285fac=_0x52e050[_0x548828(0x182)](_0x548828(0x2c3))==='1';if(_0x2a0679&&_0x1f7438&&_0x285fac){window['location'][_0x548828(0x198)](_0x548828(0x2fa));throw new Error(_0x548828(0x20e));}const _0x4fb08d=_0x2a0679&&_0x285fac&&window['opener']&&!window[_0x548828(0x28e)]['closed'];if(_0x2a0679&&!_0x4fb08d&&!_0x1f7438||!_0x1fb13e){window[_0x548828(0x290)][_0x548828(0x198)]('index.html');throw new Error(_0x548828(0x2da));}}()),function checkBrowserAndDisableExport(){const _0x439c85=_0x1f6b,_0x5a65c8=/^((?!chrome|android).)*safari/i[_0x439c85(0x2ac)](navigator[_0x439c85(0x303)]),_0x1645dd=/iPad|iPhone|iPod/['test'](navigator[_0x439c85(0x303)])||navigator[_0x439c85(0x1e2)]===_0x439c85(0x1de)&&navigator[_0x439c85(0x275)]>0x1;if(_0x5a65c8||_0x1645dd){const _0xb096d8=document[_0x439c85(0x32b)](_0x439c85(0x231));_0xb096d8&&(_0xb096d8['style'][_0x439c85(0x1bc)]='none',console[_0x439c85(0x1bb)](_0x439c85(0x1e4)));}}(),document[_0x235009(0x2e0)](_0x235009(0x23b),_0x97599=>_0x97599[_0x235009(0x2c6)]());const $=_0x4bafac=>document[_0x235009(0x32b)](_0x4bafac),$$=_0xb920c2=>document['querySelectorAll'](_0xb920c2),STORAGE_KEY='nextamp_settings_v9_stable',savedSettingsRaw=localStorage[_0x235009(0x321)](STORAGE_KEY);let savedSettings=savedSettingsRaw?JSON[_0x235009(0x270)](savedSettingsRaw):{};const audioOptions={};savedSettings[_0x235009(0x2ee)]&&savedSettings[_0x235009(0x2ee)]!==_0x235009(0x1a6)&&(audioOptions['sampleRate']=parseInt(savedSettings[_0x235009(0x2ee)]));savedSettings[_0x235009(0x176)]&&(audioOptions[_0x235009(0x1cc)]=savedSettings['audioLatency']);let audioContext;try{audioContext=new AudioContext(audioOptions);}catch(_0x4dedc8){console['warn'](_0x235009(0x1fe),_0x4dedc8),audioContext=new AudioContext();}const defaultTheme={'window':_0x235009(0x2a9),'text':_0x235009(0x33c),'textSec':_0x235009(0x169),'highlight':_0x235009(0x2a9),'eq1':_0x235009(0x33c),'eq2':_0x235009(0x197),'eq3':'#ff0000'};let currentTheme={...defaultTheme},reverbNode=audioContext[_0x235009(0x1b3)](),reverbGain=audioContext[_0x235009(0x22b)]();reverbGain[_0x235009(0x2e4)]['value']=0x0;let isReverbOn=![];function applyThemeToDOM(_0x4a68f7){const _0x1d5193=_0x235009,_0x3dee01=document[_0x1d5193(0x207)];_0x3dee01[_0x1d5193(0x2ff)][_0x1d5193(0x31c)](_0x1d5193(0x17d),_0x4a68f7[_0x1d5193(0x20a)]),_0x3dee01['style'][_0x1d5193(0x31c)]('--theme-text',_0x4a68f7[_0x1d5193(0x2dd)]),_0x3dee01['style'][_0x1d5193(0x31c)](_0x1d5193(0x172),_0x4a68f7[_0x1d5193(0x2ae)]),_0x3dee01[_0x1d5193(0x2ff)][_0x1d5193(0x31c)](_0x1d5193(0x1d9),_0x4a68f7[_0x1d5193(0x32a)]),_0x3dee01[_0x1d5193(0x2ff)]['setProperty'](_0x1d5193(0x33a),_0x4a68f7[_0x1d5193(0x1f4)]),_0x3dee01[_0x1d5193(0x2ff)][_0x1d5193(0x31c)](_0x1d5193(0x228),_0x4a68f7[_0x1d5193(0x258)]),_0x3dee01['style'][_0x1d5193(0x31c)](_0x1d5193(0x205),_0x4a68f7[_0x1d5193(0x265)]);}window[_0x235009(0x25b)]=_0x27311a=>{const _0x474944=_0x235009;$(_0x474944(0x2a0))[_0x474944(0x23e)]=_0x27311a;const _0x2945e5=$('#modal-generic-btns');_0x2945e5['innerHTML']='';const _0x40f75d=document[_0x474944(0x2e8)]('button');_0x40f75d[_0x474944(0x241)]=_0x474944(0x34a),_0x40f75d[_0x474944(0x23e)]='OK',_0x40f75d[_0x474944(0x1e5)]=()=>$('#modal-generic')['classList'][_0x474944(0x283)](_0x474944(0x27c)),_0x2945e5[_0x474944(0x187)](_0x40f75d),$(_0x474944(0x272))[_0x474944(0x19e)][_0x474944(0x171)](_0x474944(0x27c));},window['customConfirm']=(_0x5d38a7,_0x410061)=>{const _0x2ffd6d=_0x235009;$(_0x2ffd6d(0x2a0))['textContent']=_0x5d38a7;const _0x42de07=$(_0x2ffd6d(0x212));_0x42de07[_0x2ffd6d(0x1c1)]='';const _0x562fe8=document[_0x2ffd6d(0x2e8)](_0x2ffd6d(0x179));_0x562fe8[_0x2ffd6d(0x241)]=_0x2ffd6d(0x34a),_0x562fe8['textContent']='NO',_0x562fe8[_0x2ffd6d(0x1e5)]=()=>{const _0x5aa0bf=_0x2ffd6d;$(_0x5aa0bf(0x272))[_0x5aa0bf(0x19e)][_0x5aa0bf(0x283)](_0x5aa0bf(0x27c));};const _0x125a38=document[_0x2ffd6d(0x2e8)](_0x2ffd6d(0x179));_0x125a38[_0x2ffd6d(0x241)]=_0x2ffd6d(0x34a),_0x125a38['textContent']='YES',_0x125a38[_0x2ffd6d(0x1e5)]=()=>{const _0x2ae2f1=_0x2ffd6d;$('#modal-generic')[_0x2ae2f1(0x19e)][_0x2ae2f1(0x283)](_0x2ae2f1(0x27c)),_0x410061();},_0x42de07[_0x2ffd6d(0x187)](_0x562fe8),_0x42de07[_0x2ffd6d(0x187)](_0x125a38),$(_0x2ffd6d(0x272))[_0x2ffd6d(0x19e)][_0x2ffd6d(0x171)](_0x2ffd6d(0x27c));},window['switchSettingsTab']=_0x3d759f=>{const _0x469288=_0x235009;[_0x469288(0x31e),_0x469288(0x2c4)]['forEach'](_0x2bdee9=>{const _0x5b9b2f=_0x469288;_0x2bdee9===_0x3d759f?($(_0x5b9b2f(0x18d)+_0x2bdee9)[_0x5b9b2f(0x19e)][_0x5b9b2f(0x171)](_0x5b9b2f(0x27c)),$(_0x5b9b2f(0x253)+_0x2bdee9)[_0x5b9b2f(0x19e)]['add'](_0x5b9b2f(0x18e))):($(_0x5b9b2f(0x18d)+_0x2bdee9)[_0x5b9b2f(0x19e)][_0x5b9b2f(0x283)](_0x5b9b2f(0x27c)),$(_0x5b9b2f(0x253)+_0x2bdee9)[_0x5b9b2f(0x19e)]['remove'](_0x5b9b2f(0x18e)));});},window[_0x235009(0x18f)]=()=>{const _0x37c7c7=_0x235009;$(_0x37c7c7(0x1d8))[_0x37c7c7(0x19e)][_0x37c7c7(0x171)](_0x37c7c7(0x27c)),$(_0x37c7c7(0x26c))[_0x37c7c7(0x1eb)]=currentTheme[_0x37c7c7(0x20a)],$(_0x37c7c7(0x256))[_0x37c7c7(0x1eb)]=currentTheme[_0x37c7c7(0x2dd)],$(_0x37c7c7(0x332))[_0x37c7c7(0x1eb)]=currentTheme[_0x37c7c7(0x32a)],$('#set-eq-1')[_0x37c7c7(0x1eb)]=currentTheme[_0x37c7c7(0x1f4)],$(_0x37c7c7(0x20c))[_0x37c7c7(0x1eb)]=currentTheme[_0x37c7c7(0x258)],$(_0x37c7c7(0x1ed))[_0x37c7c7(0x1eb)]=currentTheme['eq3'],$(_0x37c7c7(0x202))[_0x37c7c7(0x1eb)]=savedSettings[_0x37c7c7(0x2ee)]||_0x37c7c7(0x1a6),$(_0x37c7c7(0x249))[_0x37c7c7(0x1eb)]=savedSettings['audioLatency']||_0x37c7c7(0x32c),$(_0x37c7c7(0x27b))['textContent']=savedSettings[_0x37c7c7(0x1ef)]||_0x37c7c7(0x1d5),previewTheme();},window[_0x235009(0x268)]=()=>{const _0x3c92be=_0x235009;$(_0x3c92be(0x1d8))['classList'][_0x3c92be(0x283)](_0x3c92be(0x27c)),applyThemeToDOM(currentTheme);},window['previewTheme']=()=>{const _0x55696e=_0x235009,_0xd48d19=$(_0x55696e(0x26c))[_0x55696e(0x1eb)],_0x170d1a=$('#set-theme-text')[_0x55696e(0x1eb)],_0x34fec4=$('#theme-preview-box'),_0x24d2be=$(_0x55696e(0x217));_0x34fec4['style'][_0x55696e(0x1b0)]=_0xd48d19,_0x24d2be[_0x55696e(0x2ff)]['color']=_0x170d1a,document['documentElement'][_0x55696e(0x2ff)][_0x55696e(0x31c)]('--theme-window',_0xd48d19),document['documentElement'][_0x55696e(0x2ff)][_0x55696e(0x31c)](_0x55696e(0x1d7),_0x170d1a),document[_0x55696e(0x207)][_0x55696e(0x2ff)][_0x55696e(0x31c)]('--theme-highlight',$(_0x55696e(0x332))[_0x55696e(0x1eb)]),document[_0x55696e(0x207)][_0x55696e(0x2ff)][_0x55696e(0x31c)]('--eq-col-1',$('#set-eq-1')[_0x55696e(0x1eb)]),document[_0x55696e(0x207)]['style'][_0x55696e(0x31c)](_0x55696e(0x228),$('#set-eq-2')[_0x55696e(0x1eb)]),document[_0x55696e(0x207)][_0x55696e(0x2ff)][_0x55696e(0x31c)](_0x55696e(0x205),$(_0x55696e(0x1ed))[_0x55696e(0x1eb)]);},window[_0x235009(0x22c)]=()=>{const _0x4407fa=_0x235009;currentTheme[_0x4407fa(0x20a)]=$(_0x4407fa(0x26c))[_0x4407fa(0x1eb)],currentTheme['text']=$(_0x4407fa(0x256))[_0x4407fa(0x1eb)],currentTheme[_0x4407fa(0x32a)]=$('#set-theme-high')[_0x4407fa(0x1eb)],currentTheme[_0x4407fa(0x1f4)]=$(_0x4407fa(0x281))[_0x4407fa(0x1eb)],currentTheme[_0x4407fa(0x258)]=$(_0x4407fa(0x20c))[_0x4407fa(0x1eb)],currentTheme[_0x4407fa(0x265)]=$('#set-eq-3')['value'],applyThemeToDOM(currentTheme),saveSettings(),$(_0x4407fa(0x1d8))[_0x4407fa(0x19e)]['add'](_0x4407fa(0x27c));},window['saveAudioSettings']=()=>{const _0x29d7a4=_0x235009;savedSettings[_0x29d7a4(0x2ee)]=$(_0x29d7a4(0x202))['value'],savedSettings[_0x29d7a4(0x176)]=$(_0x29d7a4(0x249))[_0x29d7a4(0x1eb)],localStorage[_0x29d7a4(0x2d5)](STORAGE_KEY,JSON[_0x29d7a4(0x17f)](savedSettings)),customConfirm(_0x29d7a4(0x177),()=>{location['reload']();});},window['resetTheme']=()=>{const _0x5ec27f=_0x235009;currentTheme={...defaultTheme},applyThemeToDOM(currentTheme),saveSettings(),$(_0x5ec27f(0x1d8))['classList'][_0x5ec27f(0x283)](_0x5ec27f(0x27c));};const tooltip=$(_0x235009(0x183)),hideTooltip=()=>{const _0x4ccfbd=_0x235009;tooltip[_0x4ccfbd(0x2ff)][_0x4ccfbd(0x1bc)]=_0x4ccfbd(0x1b4);};function attachTooltips(){const _0x9c927f=_0x235009;$$(_0x9c927f(0x1e3))[_0x9c927f(0x250)](_0x12dc6f=>{const _0x5dc356=_0x9c927f;_0x12dc6f[_0x5dc356(0x247)]=_0x477ffd=>{const _0xe07d50=_0x5dc356,_0x9fec0e=parseFloat(_0x477ffd[_0xe07d50(0x188)][_0xe07d50(0x1eb)]);let _0x233b45=_0x9fec0e;const _0x4fe2ed=_0x12dc6f['dataset'][_0xe07d50(0x26f)]||_0xe07d50(0x2a8);if(_0x4fe2ed==='time')_0x233b45=formatTime(_0x9fec0e);else{if(_0x4fe2ed===_0xe07d50(0x2d1))_0x233b45=Math['round'](_0x9fec0e*0x64)+'%';else{if(_0x4fe2ed===_0xe07d50(0x308))_0x233b45=_0x9fec0e===0x0?_0xe07d50(0x20d):_0x9fec0e<0x0?'L\x20'+Math[_0xe07d50(0x2d3)](_0x9fec0e):'R\x20'+_0x9fec0e;else{if(_0x4fe2ed==='x')_0x233b45=_0x9fec0e+'x';else{if(_0x4fe2ed===_0xe07d50(0x302))_0x233b45=_0x9fec0e;else{if(_0x4fe2ed==='db')_0x233b45=_0x9fec0e+'\x20dB';}}}}}if(_0x12dc6f[_0xe07d50(0x305)]['idx'])handleEqInput(_0x12dc6f[_0xe07d50(0x305)][_0xe07d50(0x213)],_0x9fec0e,_0x12dc6f),_0x233b45=_0x9fec0e+_0xe07d50(0x18a);else{if(_0x12dc6f['id']===_0xe07d50(0x1f0))masterGainNode[_0xe07d50(0x2e4)][_0xe07d50(0x1eb)]=_0x9fec0e,$(_0xe07d50(0x20f))[_0xe07d50(0x23e)]=Math['round'](_0x9fec0e*0x64)+'%',saveSettings();else{if(_0x12dc6f['id']===_0xe07d50(0x1ad))pannerNode['pan'][_0xe07d50(0x1eb)]=_0x9fec0e,saveSettings();else{if(_0x12dc6f[_0xe07d50(0x305)][_0xe07d50(0x285)]===_0xe07d50(0x2d8))controlValues[_0xe07d50(0x2d8)]=_0x9fec0e,$(_0xe07d50(0x2d6))[_0xe07d50(0x23e)]=_0x9fec0e[_0xe07d50(0x208)](0x2),controlsChanged(),saveSettings();else{if(_0x12dc6f['dataset'][_0xe07d50(0x285)]===_0xe07d50(0x334))controlValues['semitones']=_0x9fec0e,$(_0xe07d50(0x29f))[_0xe07d50(0x23e)]=_0x9fec0e,controlsChanged(),saveSettings();else{if(_0x12dc6f['id']===_0xe07d50(0x21e))reverbGain[_0xe07d50(0x2e4)][_0xe07d50(0x1eb)]=_0x9fec0e,$('#val-reverb')[_0xe07d50(0x23e)]=_0x9fec0e['toFixed'](0x2),saveSettings();else _0x12dc6f['id']===_0xe07d50(0x23f)&&stretch&&stretch['schedule']({'input':_0x9fec0e,'rate':0x0});}}}}}const _0x4a7a94=_0x12dc6f[_0xe07d50(0x18b)]();tooltip[_0xe07d50(0x23e)]=_0x233b45,tooltip[_0xe07d50(0x2ff)]['display']=_0xe07d50(0x1ba);if(_0x12dc6f[_0xe07d50(0x19e)][_0xe07d50(0x350)](_0xe07d50(0x260))){tooltip[_0xe07d50(0x2ff)][_0xe07d50(0x240)]=_0x4a7a94[_0xe07d50(0x344)]+0x5+'px';const _0x2b3866=parseFloat(_0x12dc6f[_0xe07d50(0x214)]),_0x4397d0=parseFloat(_0x12dc6f[_0xe07d50(0x301)]),_0x2c83c2=(_0x9fec0e-_0x2b3866)/(_0x4397d0-_0x2b3866),_0x17ecec=_0x4a7a94[_0xe07d50(0x312)]-_0x4a7a94['height']*_0x2c83c2;tooltip['style'][_0xe07d50(0x341)]=_0x17ecec-0xa+'px';}else{tooltip[_0xe07d50(0x2ff)][_0xe07d50(0x341)]=_0x4a7a94[_0xe07d50(0x341)]-0x19+'px';const _0x4f23fb=parseFloat(_0x12dc6f[_0xe07d50(0x214)]),_0x193105=parseFloat(_0x12dc6f[_0xe07d50(0x301)]),_0x247b21=(_0x9fec0e-_0x4f23fb)/(_0x193105-_0x4f23fb),_0xd2bcde=_0x4a7a94[_0xe07d50(0x240)]+_0x4a7a94[_0xe07d50(0x181)]*_0x247b21;tooltip[_0xe07d50(0x2ff)][_0xe07d50(0x240)]=_0xd2bcde-tooltip[_0xe07d50(0x2ed)]/0x2+'px';}};});}window[_0x235009(0x2e0)](_0x235009(0x348),hideTooltip),window[_0x235009(0x2e0)](_0x235009(0x2eb),hideTooltip),window['formatTime']=_0x5ba76f=>{const _0x32ab45=_0x235009;_0x5ba76f=parseFloat(_0x5ba76f);if(isNaN(_0x5ba76f))return _0x32ab45(0x311);return Math['floor'](_0x5ba76f/0x3c)+':'+Math['floor'](_0x5ba76f%0x3c)[_0x32ab45(0x1ab)]()['padStart'](0x2,'0');};function createImpulseResponse(_0x12d712=0x3,_0x5c4c98=0x2,_0x2205e3=0.02){const _0x2e4ec3=_0x235009,_0x2adbd7=audioContext[_0x2e4ec3(0x1c3)],_0x405c95=_0x2adbd7*_0x12d712,_0xe793c5=audioContext[_0x2e4ec3(0x16b)](0x2,_0x405c95,_0x2adbd7),_0xbb4d52=Math[_0x2e4ec3(0x314)](_0x2205e3*_0x2adbd7);for(let _0x255359=0x0;_0x255359<0x2;_0x255359++){const _0x3f5786=_0xe793c5[_0x2e4ec3(0x339)](_0x255359);let _0x8de3ec=0x0;const _0x47f355=0.12;for(let _0x2e3739=0x0;_0x2e3739<_0x405c95;_0x2e3739++){const _0x1d25c2=Math[_0x2e4ec3(0x31b)]()*0x2-0x1;_0x8de3ec=_0x8de3ec+_0x47f355*(_0x1d25c2-_0x8de3ec);const _0x17db1a=_0x8de3ec;if(_0x2e3739<_0xbb4d52)_0x3f5786[_0x2e3739]=0x0;else{const _0x16ab1d=(_0x2e3739-_0xbb4d52)/(_0x405c95-_0xbb4d52),_0x39682f=Math[_0x2e4ec3(0x2d2)](-_0x5c4c98*_0x16ab1d),_0x1a33a6=0x1+0.1*Math[_0x2e4ec3(0x21d)](_0x16ab1d*0x14);_0x3f5786[_0x2e3739]=_0x17db1a*_0x39682f*_0x1a33a6;}}const _0x17d76c=[{'delay':0.01,'gain':0.6},{'delay':0.03,'gain':0.4},{'delay':0.07,'gain':0.2},{'delay':0.12,'gain':0.1}];for(const _0x19f4aa of _0x17d76c){const _0xfe38cb=Math[_0x2e4ec3(0x314)](_0x19f4aa[_0x2e4ec3(0x2f5)]*_0x2adbd7),_0x4d2d0b=0x28;if(_0xfe38cb<_0x405c95)for(let _0xb4323b=0x0;_0xb4323b<_0x4d2d0b;_0xb4323b++){_0xfe38cb+_0xb4323b<_0x405c95&&(_0x3f5786[_0xfe38cb+_0xb4323b]+=(Math[_0x2e4ec3(0x31b)]()*0x2-0x1)*_0x19f4aa['gain']*0.1*(0x1-_0xb4323b/_0x4d2d0b));}}}for(let _0x3d4eb2=0x0;_0x3d4eb2<0x2;_0x3d4eb2++){const _0x466873=_0xe793c5['getChannelData'](_0x3d4eb2);let _0x12a95b=0x0;for(let _0x2b7d64=0x0;_0x2b7d64<_0x405c95;_0x2b7d64++)_0x12a95b=Math['max'](_0x12a95b,Math[_0x2e4ec3(0x2d3)](_0x466873[_0x2b7d64]));if(_0x12a95b>0x0){for(let _0x158bef=0x0;_0x158bef<_0x405c95;_0x158bef++)_0x466873[_0x158bef]/=_0x12a95b;for(let _0x2c624f=0x0;_0x2c624f<_0x405c95;_0x2c624f++)_0x466873[_0x2c624f]*=0.8;}}return _0xe793c5;}reverbNode[_0x235009(0x326)]=createImpulseResponse();function updateReverbConnection(){const _0x71bc86=_0x235009,_0x827871=$('#btn-reverb-toggle');try{reverbNode[_0x71bc86(0x316)]();}catch(_0x3946cd){}try{reverbGain[_0x71bc86(0x316)]();}catch(_0x27c822){}if(isReverbOn&&eqNodes[_0x71bc86(0x298)]>0x0){const _0x53c781=eqNodes[eqNodes['length']-0x1];_0x53c781[_0x71bc86(0x196)](reverbNode),reverbNode[_0x71bc86(0x196)](reverbGain),reverbGain[_0x71bc86(0x196)](analyser),_0x827871[_0x71bc86(0x23e)]='ON',_0x827871['classList']['add'](_0x71bc86(0x255)),_0x827871[_0x71bc86(0x19e)][_0x71bc86(0x171)](_0x71bc86(0x246));}else _0x827871['textContent']=_0x71bc86(0x282),_0x827871['classList'][_0x71bc86(0x171)]('theme-text-main'),_0x827871[_0x71bc86(0x19e)]['add'](_0x71bc86(0x246));}function saveSettings(){const _0x4e2a64=_0x235009,_0x611e80=Array['from'](document['querySelectorAll'](_0x4e2a64(0x24d)))[_0x4e2a64(0x234)](_0xbfa2f7=>parseFloat(_0xbfa2f7[_0x4e2a64(0x1eb)]));window[_0x4e2a64(0x29b)]=_0x611e80;const _0x10b341={...savedSettings,'vol':$(_0x4e2a64(0x1b7))[_0x4e2a64(0x1eb)],'bal':$(_0x4e2a64(0x2df))[_0x4e2a64(0x1eb)],'rate':controlValues[_0x4e2a64(0x2d8)],'pitch':controlValues['semitones'],'isShuffle':isShuffle,'repeatMode':repeatMode,'isEqOn':isEqOn,'playlistId':currentPlaylistId,'eqGains':_0x611e80,'eqPreset':$(_0x4e2a64(0x277))[_0x4e2a64(0x1eb)],'isMono':isMono,'theme':currentTheme,'reverbGain':$(_0x4e2a64(0x170))[_0x4e2a64(0x1eb)]};savedSettings=_0x10b341,localStorage[_0x4e2a64(0x2d5)](STORAGE_KEY,JSON['stringify'](_0x10b341));}function loadSettings(){const _0x280db9=_0x235009,_0x2e4b77=savedSettings;if(!_0x2e4b77){applyThemeToDOM(defaultTheme),updateReverbConnection();return;}_0x2e4b77['vol']&&($(_0x280db9(0x1b7))[_0x280db9(0x1eb)]=_0x2e4b77[_0x280db9(0x2b3)],masterGainNode[_0x280db9(0x2e4)][_0x280db9(0x1eb)]=parseFloat(_0x2e4b77[_0x280db9(0x2b3)]),$(_0x280db9(0x20f))['textContent']=Math[_0x280db9(0x22d)](_0x2e4b77[_0x280db9(0x2b3)]*0x64)+'%');_0x2e4b77[_0x280db9(0x2cf)]&&($(_0x280db9(0x2df))[_0x280db9(0x1eb)]=_0x2e4b77[_0x280db9(0x2cf)],pannerNode[_0x280db9(0x1d3)][_0x280db9(0x1eb)]=parseFloat(_0x2e4b77[_0x280db9(0x2cf)]));_0x2e4b77[_0x280db9(0x2d8)]&&(controlValues[_0x280db9(0x2d8)]=parseFloat(_0x2e4b77[_0x280db9(0x2d8)]),$(_0x280db9(0x1f5))[_0x280db9(0x1eb)]=_0x2e4b77[_0x280db9(0x2d8)],$('#val-rate')[_0x280db9(0x23e)]=_0x2e4b77['rate'][_0x280db9(0x208)](0x2));_0x2e4b77[_0x280db9(0x2b2)]&&(controlValues[_0x280db9(0x334)]=parseFloat(_0x2e4b77[_0x280db9(0x2b2)]),$('input[data-key=\x22semitones\x22]')[_0x280db9(0x1eb)]=_0x2e4b77[_0x280db9(0x2b2)],$(_0x280db9(0x29f))['textContent']=_0x2e4b77[_0x280db9(0x2b2)]);_0x2e4b77[_0x280db9(0x23c)]&&(isShuffle=!![],$('#tog-shuffle')[_0x280db9(0x19e)][_0x280db9(0x283)]('active'));if(_0x2e4b77[_0x280db9(0x1af)]!==undefined)repeatMode=_0x2e4b77[_0x280db9(0x1af)];updateRepeatBtn();if(_0x2e4b77[_0x280db9(0x304)]!==undefined)isMono=_0x2e4b77['isMono'];updateMonoStereoState(),isEqOn=_0x2e4b77['isEqOn']!==undefined?_0x2e4b77[_0x280db9(0x31d)]:!![],$(_0x280db9(0x276))['textContent']=isEqOn?'ON':_0x280db9(0x282),$(_0x280db9(0x244))[_0x280db9(0x19e)][_0x280db9(0x2e6)](_0x280db9(0x331),isEqOn);if(_0x2e4b77[_0x280db9(0x1cd)])currentPlaylistId=_0x2e4b77[_0x280db9(0x1cd)];_0x2e4b77[_0x280db9(0x266)]?(currentTheme=_0x2e4b77[_0x280db9(0x266)],applyThemeToDOM(currentTheme)):applyThemeToDOM(defaultTheme),_0x2e4b77[_0x280db9(0x1ef)]!==undefined&&($(_0x280db9(0x170))[_0x280db9(0x1eb)]=_0x2e4b77[_0x280db9(0x1ef)],reverbGain[_0x280db9(0x2e4)][_0x280db9(0x1eb)]=parseFloat(_0x2e4b77['reverbGain']),$('#val-reverb')['textContent']=parseFloat(_0x2e4b77[_0x280db9(0x1ef)])[_0x280db9(0x208)](0x2)),window[_0x280db9(0x29b)]=_0x2e4b77[_0x280db9(0x227)]||[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],_0x2e4b77['eqPreset']&&($(_0x280db9(0x277))['value']=_0x2e4b77[_0x280db9(0x16a)]),FREQUENCIES['forEach']((_0x47f83d,_0x23753e)=>{const _0x2f7d98=_0x280db9,_0x56fe6b=$(_0x2f7d98(0x34b)+_0x23753e);if(_0x56fe6b){if(isEqOn)_0x56fe6b[_0x2f7d98(0x19e)][_0x2f7d98(0x283)](_0x2f7d98(0x1a3));else _0x56fe6b[_0x2f7d98(0x19e)][_0x2f7d98(0x171)](_0x2f7d98(0x1a3));}}),updateReverbConnection();}function _0x11da(){const _0x4141f5=['revokeObjectURL','classList','createLinearGradient','click','431040kNMLSF','#btn-next','eq-bar-active','inputTime','Encoding\x20MP3...\x20(','default','File\x20corrupted\x20during\x20transfer.\x20Please\x20try\x20again.','<i\x20class=\x22ph-fill\x20ph-floppy-disk\x20text-sm\x22></i>','splice','flex\x20flex-col\x20items-center\x20h-full\x20flex-1\x20group\x20relative\x20py-3','toString','Play\x20Error:','main-bal','Error\x20loading\x20file.','repeatMode','backgroundColor','pathname','ondblclick','createConvolver','none','channelInterpretation','#pl-box','#main-vol','open','frequency','block','log','display','createObjectURL','REPEAT','volume','confirmNewPlaylist','innerHTML','from','sampleRate','127.0.0.1','send','byteLength','2642XaNQlJ','search','opacity','toggleSection','Init\x20failed','latencyHint','playlistId','<div\x20class=\x22flex\x20truncate\x20w-full\x20pointer-events-none\x22><span\x20class=\x22w-6\x20text-right\x20mr-2\x20flex-shrink-0\x22>','#pl-count','postMessage','Ready.\x20Scan\x20QR\x20with\x20your\x20phone.','sync_ack','pan','URL','0.0','name','--theme-text','#modal-settings','--theme-highlight','font-bold\x20text-white','border-win-green','#btn-del-track','file_received','MacIntel','REP\x20ALL','draggable','text-red-900','platform','input[type=\x22range\x22]','Export\x20feature\x20disabled\x20due\x20to\x20Safari/iOS\x20WebAudio\x20limitations.','onclick','#upload-file','thumb-','files','data','audio/wav','value','play','#set-eq-3','terminate','reverbGain','main-vol','nexttrack','#audio-loop','setUint32','eq1','input[data-key=\x22rate\x22]','decodeAudioData','Select\x20tracks\x20first','#111','fftSize','openAddToModal','Rendering\x20Effects...\x20(Please\x20wait)','input[data-idx=\x22','5bcyBAf','Custom\x20sample\x20rate\x20failed,\x20falling\x20back','getTime','disabled','body','#set-audio-sr','#time-display','getByteTimeDomainData','--eq-col-3','text/plain','documentElement','toFixed','hostname','window','Export\x20Complete.','#set-eq-2','CENTER','Popup\x20mode\x20not\x20allowed\x20on\x20mobile','#txt-vol','delete','getElementById','#modal-generic-btns','idx','min','N/A','quadraticCurveTo','#theme-preview-text','exportCurrentTrackWav','dataTransfer','input','createNewPlaylist','renderPlaylistUI','sin','main-reverb','duration','88AMcfRz','[data-key=\x22rate\x22]','app.html','meta','removeChild','#btn-install-pwa','pause','eqGains','--eq-col-2','type','active-gold','createGain','applyThemeSettings','round','\x22\x20data-tooltip-type=\x22db\x22></div><div\x20class=\x22absolute\x20-bottom-1\x20text-[7px]\x20theme-text-main\x20font-pixel\x20tracking-tighter\x20pointer-events-none\x22>','setUint16','w-full\x20text-left\x20px-2\x20py-1\x20text-[10px]\x20text-gray-300\x20hover:bg-win-green\x20hover:text-black\x20font-pixel\x20border\x20border-gray-600\x20mb-1','#btn-export','textarea','qrcode-container','map','find','true','schedule','Receiving:\x20','ondragleave','push','contextmenu','isShuffle','cursor-pointer','textContent','playback','left','className','310XZiEfK','\x20selected\x20track(s)?','#btn-eq-toggle','filter','text-gray-500','oninput','Error:\x20Size\x20mismatch!\x20Expected\x20','#set-audio-latency','strokeStyle','text-black','image/png','input[data-idx]','#btn-move-down','moveTo','forEach','Space','channelCountMode','#tab-btn-','#peer-status','theme-text-main','#set-theme-text','2630280PXxzaD','eq2','setFloat32','hasError','customAlert','#tog-shuffle','peaking','511220dJIFZo','paused','vertical','text-win-green','seekTime','lineTo','dragging','eq3','theme','Nextamp\x20Player','closeSettingsModal','0\x200\x204px\x20#0f0','fmt\x20','access_allowed','#set-theme-window','closeAddMethodModal','fillStyle','tooltipType','parse',',\x20got\x20','#modal-generic','visibilitychange','512x512','maxTouchPoints','#txt-eq-status','#eq-preset-select','208JqckAu','theme-text-sec','scrollHeight','#disp-rev-gain','hidden','No\x20track\x20loaded\x20to\x20export.','readwrite','#btn-stop','metadata','#set-eq-1','OFF','add','ondragstart','key','MONO','Error:\x20','toLowerCase','addBuffers','height','activeElement','#btn-pause','#qrcode-container','opener','onmessage','location','[data-key=\x22semitones\x22]','ctrlKey','destination','drag-over','message','#btn-del-pl','Main\x20Library','length','focus','\x22\x20id=\x22eq-bg-','savedEqGains','onmousedown','addColorStop','beginPath','#val-pitch','#modal-generic-msg','onmouseup','0.5','\x20TRACKS','#tog-repeat','Saved:\x20','Piracy\x20detected!','put','raw','#000080','BAR','createMediaElementSource','test','#playback','textSec','#modal-add-method','\x20[OK]','Delete\x20playlist\x20\x22','pitch','vol','arrayBuffer','setData','readonly','charCodeAt','beforeinstallprompt','stop','playlists','clear','prompt','mime','ondragover','mediaSession','setActionHandler','Peer\x20Error:\x20','Remix_','popup','appearance','keys','preventDefault','createStereoPanner','/remote.html?host=','startRendering','openPeerModal','download','createBiquadFilter','Encoding\x20MP3...\x20(0%)','#btn-prev','bal','#audio-startup','percent','exp','abs','main','setItem','#val-rate','</div>','rate','lineWidth','Access\x20Denied','onchange','touchstart','text','float32','#main-bal','addEventListener','ontouchend','progress','result','gain','cursor','toggle','Error.','createElement','sort','custom','touchend','onupgradeneeded','offsetWidth','audioSampleRate','localhost','#btn-move-up','querySelectorAll','keydown','#host-progress-bar','createObjectStore','delay','#modal-new-playlist','#modal-add-to','ondrop','pl-box','index.html','#host-progress-wrap','#modal-peer-receive','LINE','error','style','div','max','val','userAgent','isMono','dataset','speakers','state','balance','#00ffff','trim','theme-highlight-bg','#modal-list','#new-playlist-name','\x22></div><input\x20type=\x22range\x22\x20class=\x22vertical\x22\x20style=\x22height:\x20120%;\x20top:\x20-10%;\x22\x20min=\x22-12\x22\x20max=\x2212\x22\x20step=\x220.5\x22\x20value=\x220\x22\x20data-idx=\x22','includes','#eq-container','00:00','bottom','Conn\x20Error:\x20','floor','numberOfChannels','disconnect','getContext','#peer-link-text','handleEqInput','Remove\x20','random','setProperty','isEqOn','audio','onsuccess','origin','getItem','closeAddToModal','#btn-mono-stereo','frequencyBinCount','\x20(Loading...)','buffer','#333','next-amp-player.vercel.app','updateEqBand','highlight','querySelector','interactive','resume','/assets/libs/worker/mp3-worker.js','<h1>Unauthorized\x20Copy</h1>','stroke','pressed','#set-theme-high','#marquee','semitones','getAll','blob','Stopped.','closePeerModal','getChannelData','--eq-col-1','\x20cursor-pointer\x20px-1\x20flex\x20justify-between\x20select-none\x20','#00ff00','close','HOST\x20ID:\x20','Worker\x20Error:\x20','.mp3','top','renderPlaylistSelect','currentTime','right','WAVE','Auto-Next\x20(Background\x20Check)','transaction','mouseup','#playlist-select','win-btn\x20w-20\x20h-6\x20text-[10px]','#eq-bg-','310644OPXSBy','openNewPlaylistModal','trackIds','channelCount','contains','#btn-reverb-toggle','#ffcc00','eqPreset','createBuffer','metaKey','now','objectStore','clearRect','#main-reverb','remove','--theme-text-sec','library','connection','fillRect','audioLatency','Audio\x20settings\x20saved.\x20Reload\x20to\x20apply\x20changes?','<div\x20class=\x22text-gray-500\x20text-center\x20mt-10\x20text-[10px]\x20pointer-events-none\x22>','button','ontouchstart','192353zhZDeS','stopPropagation','--theme-window','setInt16','stringify','option','width','get','#slider-tooltip','#v-status-indicator','https://next-amp-player.vercel.app/assets/logo/logo.png','397928HwqwCp','appendChild','target','2421JPmCbV','\x20dB','getBoundingClientRect','cursor-default','#tab-content-','active','openSettingsModal','#engine-status','ondragend','#visualizer-container','receivedSize','createAnalyser','#btn-play','connect','#ffff00','replace','#visualizer','code','setUint8','size'];_0x11da=function(){return _0x4141f5;};return _0x11da();}let isEngineHot=![];const audioStartup=$(_0x235009(0x2d0)),audioLoop=$(_0x235009(0x1f2)),loopSource=audioContext[_0x235009(0x2ab)](audioLoop);loopSource['connect'](audioContext['destination']);const initAudioEngine=async()=>{const _0x2129b2=_0x235009;if(isEngineHot)return;try{if(audioContext[_0x2129b2(0x307)]==='suspended')await audioContext[_0x2129b2(0x32d)]();isEngineHot=!![],audioStartup['volume']=0.5,audioLoop[_0x2129b2(0x1bf)]=0.05,await audioStartup['play'](),audioLoop[_0x2129b2(0x1ec)]()['catch'](_0x465092=>{}),$(_0x2129b2(0x190))['style']['backgroundColor']=_0x2129b2(0x33c),$('#engine-status')['style']['boxShadow']=_0x2129b2(0x269),$(_0x2129b2(0x333))[_0x2129b2(0x23e)]='Ready.';}catch(_0x5d723b){console[_0x2129b2(0x2fe)](_0x2129b2(0x1cb),_0x5d723b);}};document[_0x235009(0x2e0)]('click',initAudioEngine,{'once':!![]}),document[_0x235009(0x2e0)](_0x235009(0x2dc),initAudioEngine,{'once':!![]});const checkAndResumeAudioContext=()=>{const _0x46f201=_0x235009;if(isEngineHot&&(audioContext[_0x46f201(0x307)]==='suspended'||audioContext[_0x46f201(0x307)]==='interrupted'))audioContext[_0x46f201(0x32d)]();if(isEngineHot&&audioLoop[_0x46f201(0x25f)])audioLoop[_0x46f201(0x1ec)]()['catch'](_0x23905b=>{});if(stretch&&controlValues[_0x46f201(0x18e)]&&!isChangingTrack){const _0x3a0079=stretch['inputTime']||0x0;_0x3a0079>=audioDuration-0.5&&(console[_0x46f201(0x1bb)](_0x46f201(0x346)),handleNextTrack(!![]));}};setInterval(checkAndResumeAudioContext,0x3e8),[_0x235009(0x273),_0x235009(0x2dc),_0x235009(0x1a0)][_0x235009(0x250)](_0x76d48c=>document[_0x235009(0x2e0)](_0x76d48c,checkAndResumeAudioContext));let stretch=null,eqNodes=[],analyser=audioContext[_0x235009(0x194)](),masterGainNode=audioContext[_0x235009(0x22b)](),pannerNode=audioContext[_0x235009(0x2c7)](),stereoPath=audioContext[_0x235009(0x22b)](),monoPath=audioContext[_0x235009(0x22b)]();monoPath[_0x235009(0x34f)]=0x1,monoPath[_0x235009(0x252)]='explicit',monoPath[_0x235009(0x1b5)]=_0x235009(0x306);let isMono=![],audioDuration=0x1,isChangingTrack=![],playDebounceTimer=null;analyser[_0x235009(0x196)](stereoPath),analyser[_0x235009(0x196)](monoPath),stereoPath[_0x235009(0x196)](pannerNode),monoPath[_0x235009(0x196)](pannerNode),pannerNode[_0x235009(0x196)](masterGainNode),masterGainNode[_0x235009(0x196)](audioContext[_0x235009(0x293)]),masterGainNode[_0x235009(0x2e4)]['value']=0.8,analyser[_0x235009(0x1f9)]=0x40;const FREQUENCIES=[0x3c,0xaa,0x136,0x258,0x3e8,0xbb8,0x1770,0x2ee0,0x36b0,0x3e80],PRESETS={'flat':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],'rock':[0x4,0x3,0x2,0x0,-0x1,-0x1,0x0,0x2,0x3,0x4],'pop':[-0x1,0x1,0x3,0x3,0x1,-0x1,-0x2,-0x2,-0x1,-0x1],'jazz':[0x3,0x2,0x0,-0x2,-0x2,0x0,0x2,0x3,0x4,0x4],'fullbass':[0x6,0x6,0x5,0x2,0x0,-0x2,-0x4,-0x5,-0x6,-0x6]};let controlValues={'active':![],'rate':0x1,'semitones':0x0},isEqOn=!![];function initEQ(){const _0x2677f5=_0x235009;eqNodes[_0x2677f5(0x250)](_0x14ddb7=>{const _0x447194=_0x2677f5;try{_0x14ddb7[_0x447194(0x316)]();}catch(_0x18ae8f){}}),eqNodes=[];let _0x4803b8=null,_0x308388=null;return FREQUENCIES[_0x2677f5(0x250)]((_0x225054,_0x55ef27)=>{const _0x1b6778=_0x2677f5,_0x430f15=audioContext[_0x1b6778(0x2cc)]();_0x430f15[_0x1b6778(0x229)]=_0x1b6778(0x25d),_0x430f15[_0x1b6778(0x1b9)][_0x1b6778(0x1eb)]=_0x225054,_0x430f15['Q'][_0x1b6778(0x1eb)]=1.4;let _0x15c782=window[_0x1b6778(0x29b)]&&window[_0x1b6778(0x29b)][_0x55ef27]!==undefined?window[_0x1b6778(0x29b)][_0x55ef27]:0x0;const _0x399219=document[_0x1b6778(0x32b)](_0x1b6778(0x1fc)+_0x55ef27+'\x22]');_0x399219&&(_0x399219[_0x1b6778(0x1eb)]=_0x15c782,updateThumb(_0x399219,_0x1b6778(0x1e7)+_0x55ef27));_0x430f15[_0x1b6778(0x2e4)][_0x1b6778(0x1eb)]=isEqOn?_0x15c782:0x0,eqNodes[_0x1b6778(0x23a)](_0x430f15);if(_0x4803b8)_0x4803b8[_0x1b6778(0x196)](_0x430f15);else _0x308388=_0x430f15;_0x4803b8=_0x430f15;}),{'input':_0x308388,'output':_0x4803b8};}async function loadAudioEngine(_0x2650e9,_0x26d21e){const _0x1c055a=_0x235009;if(!isEngineHot)await initAudioEngine();checkAndResumeAudioContext();const _0x1a405f=await audioContext['decodeAudioData'](_0x2650e9);audioDuration=_0x1a405f[_0x1c055a(0x21f)];const _0x3ec3af=[];for(let _0x5c2489=0x0;_0x5c2489<_0x1a405f[_0x1c055a(0x315)];++_0x5c2489)_0x3ec3af['push'](_0x1a405f['getChannelData'](_0x5c2489));stretch&&(stretch[_0x1c055a(0x2b9)](),stretch[_0x1c055a(0x316)]());stretch=await _0x1aa533(audioContext);const _0x1b36ed=initEQ();stretch[_0x1c055a(0x196)](_0x1b36ed[_0x1c055a(0x21a)]),_0x1b36ed['output']['connect'](analyser),updateReverbConnection(),await stretch[_0x1c055a(0x289)](_0x3ec3af),controlValues['active']=!![],controlsChanged(),isChangingTrack=![],updateMediaSession(_0x26d21e[_0x1c055a(0x1d6)]),$('#info-samplerate')[_0x1c055a(0x23e)]=_0x1a405f[_0x1c055a(0x1c3)]/0x3e8+'\x20khz';if(_0x26d21e['blob']&&_0x26d21e[_0x1c055a(0x336)]['size']){const _0x5eee56=Math[_0x1c055a(0x22d)](_0x26d21e[_0x1c055a(0x336)][_0x1c055a(0x19c)]*0x8/audioDuration/0x3e8);$('#info-bitrate')[_0x1c055a(0x23e)]=_0x5eee56+'\x20k';}else $('#info-bitrate')[_0x1c055a(0x23e)]=_0x1c055a(0x215);attachTooltips(),drawEQCurve();}function controlsChanged(_0x31961a){const _0xa0b75=_0x235009;$(_0xa0b75(0x195))[_0xa0b75(0x19e)][_0xa0b75(0x2e6)](_0xa0b75(0x331),controlValues[_0xa0b75(0x18e)]);if(stretch){let _0x383344=Object['assign']({'output':audioContext[_0xa0b75(0x343)]+(_0x31961a||0x0)},controlValues);stretch[_0xa0b75(0x237)](_0x383344);}updatePositionState();}function updateMediaSession(_0x2a9f8b){const _0x24b965=_0x235009;_0x24b965(0x2bf)in navigator&&(navigator[_0x24b965(0x2bf)][_0x24b965(0x280)]=new MediaMetadata({'title':_0x2a9f8b,'artist':_0x24b965(0x267),'artwork':[{'src':_0x24b965(0x185),'sizes':_0x24b965(0x274),'type':_0x24b965(0x24c)}]}),navigator[_0x24b965(0x2bf)][_0x24b965(0x2c0)]('play',()=>$(_0x24b965(0x195))[_0x24b965(0x1a0)]()),navigator[_0x24b965(0x2bf)][_0x24b965(0x2c0)](_0x24b965(0x226),()=>$(_0x24b965(0x28c))[_0x24b965(0x1a0)]()),navigator[_0x24b965(0x2bf)][_0x24b965(0x2c0)]('previoustrack',()=>$('#btn-prev')['click']()),navigator['mediaSession'][_0x24b965(0x2c0)](_0x24b965(0x1f1),()=>$('#btn-next')[_0x24b965(0x1a0)]()),navigator['mediaSession'][_0x24b965(0x2c0)]('seekto',_0x476154=>{const _0x80bc9d=_0x24b965;_0x476154['seekTime']!==undefined&&stretch&&(stretch[_0x80bc9d(0x237)]({'input':_0x476154[_0x80bc9d(0x262)]}),updatePositionState());}),updatePositionState());}function updatePositionState(){const _0x708678=_0x235009;if(_0x708678(0x2bf)in navigator&&stretch)try{navigator[_0x708678(0x2bf)]['setPositionState']({'duration':audioDuration||0x0,'playbackRate':controlValues[_0x708678(0x18e)]?controlValues['rate']:0x0,'position':stretch[_0x708678(0x1a4)]||0x0});}catch(_0x45270b){}}let LIBRARY=[],playlists={'main':{'name':_0x235009(0x297),'trackIds':[]}},currentPlaylistId=_0x235009(0x2d4),currentTrackIndex=-0x1,selectedIndices=new Set(),lastSelectedIndex=-0x1;const DB_NAME='NextampUltimateDB',dbReq=indexedDB[_0x235009(0x1b8)](DB_NAME,0x8);dbReq[_0x235009(0x2ec)]=_0x33384e=>{const _0x26a5f6=_0x235009,_0x29b056=_0x33384e[_0x26a5f6(0x188)][_0x26a5f6(0x2e3)];if(!_0x29b056['objectStoreNames'][_0x26a5f6(0x350)](_0x26a5f6(0x173)))_0x29b056[_0x26a5f6(0x2f4)]('library',{'keyPath':'id'});if(!_0x29b056['objectStoreNames'][_0x26a5f6(0x350)](_0x26a5f6(0x2ba)))_0x29b056[_0x26a5f6(0x2f4)](_0x26a5f6(0x2ba),{'keyPath':'id'});},dbReq[_0x235009(0x31f)]=async _0x3c0a1a=>{await loadLibraryFromDB(),await loadPlaylistsFromDB(),loadSettings(),renderPlaylistSelect(),renderPlaylistUI(),initEQ(),drawEQCurve(),attachTooltips();};async function saveTrackToLib(_0x48b725){const _0x102777=_0x235009,_0x35ed9c=dbReq[_0x102777(0x2e3)],_0x5c9935=_0x35ed9c[_0x102777(0x347)]('library',_0x102777(0x27e));_0x5c9935[_0x102777(0x16e)](_0x102777(0x173))[_0x102777(0x2a7)](_0x48b725);}async function deleteTrackFromLib(_0x575825){const _0x497aeb=_0x235009,_0x12a82a=dbReq['result'],_0x32657b=_0x12a82a[_0x497aeb(0x347)](_0x497aeb(0x173),_0x497aeb(0x27e));_0x32657b[_0x497aeb(0x16e)](_0x497aeb(0x173))[_0x497aeb(0x210)](_0x575825);}async function savePlaylistsToDB(_0x41cbde){const _0xab1b91=_0x235009,_0x2b0ba1=dbReq[_0xab1b91(0x2e3)],_0x3d2891=_0x2b0ba1[_0xab1b91(0x347)](_0xab1b91(0x2ba),_0xab1b91(0x27e));_0x3d2891[_0xab1b91(0x16e)]('playlists')['put'](_0x41cbde);}async function loadLibraryFromDB(){return new Promise(_0x11765c=>{const _0x2cb354=_0x1f6b,_0x1128ec=dbReq['result'],_0xe632f=_0x1128ec[_0x2cb354(0x347)](_0x2cb354(0x173),_0x2cb354(0x2b6)),_0x10c490=_0xe632f[_0x2cb354(0x16e)](_0x2cb354(0x173))[_0x2cb354(0x335)]();_0x10c490[_0x2cb354(0x31f)]=()=>{const _0x47cd81=_0x2cb354;LIBRARY=_0x10c490[_0x47cd81(0x2e3)]||[],_0x11765c();};});}async function loadPlaylistsFromDB(){return new Promise(_0x1523fe=>{const _0x492349=_0x1f6b,_0x519583=dbReq[_0x492349(0x2e3)],_0x4630d8=_0x519583[_0x492349(0x347)](_0x492349(0x2ba),_0x492349(0x2b6)),_0x27ff86=_0x4630d8[_0x492349(0x16e)](_0x492349(0x2ba))[_0x492349(0x335)]();_0x27ff86['onsuccess']=()=>{const _0x473eb9=_0x492349;if(_0x27ff86[_0x473eb9(0x2e3)])_0x27ff86[_0x473eb9(0x2e3)]['forEach'](_0x5683e5=>playlists[_0x5683e5['id']]=_0x5683e5);_0x1523fe();};});}const getTrackById=_0x395d13=>LIBRARY[_0x235009(0x235)](_0x2bcd5b=>_0x2bcd5b['id']===_0x395d13);function getCurrentDisplayList(){const _0x3fb4fa=_0x235009;if(currentPlaylistId==='main')return LIBRARY;return playlists[currentPlaylistId][_0x3fb4fa(0x34e)]['map'](_0x22603d=>getTrackById(_0x22603d))[_0x3fb4fa(0x245)](_0x3f7993=>_0x3f7993);}async function playTrack(_0x272cd6){const _0x2665d5=_0x235009;if(!isEngineHot)await initAudioEngine();if(playDebounceTimer)clearTimeout(playDebounceTimer);isChangingTrack=!![];let _0x3843a1=getCurrentDisplayList();if(_0x272cd6<0x0||_0x272cd6>=_0x3843a1[_0x2665d5(0x298)]){isChangingTrack=![];return;}currentTrackIndex=_0x272cd6;const _0x33f56c=_0x2665d5(0x17a)in window||navigator[_0x2665d5(0x275)]>0x0;_0x33f56c&&selectedIndices[_0x2665d5(0x19c)]<=0x1&&(selectedIndices[_0x2665d5(0x2bb)](),selectedIndices[_0x2665d5(0x283)](_0x272cd6),lastSelectedIndex=_0x272cd6);renderPlaylistUI();const _0x289ffa=_0x3843a1[_0x272cd6];$(_0x2665d5(0x333))[_0x2665d5(0x23e)]=_0x272cd6+0x1+'.\x20'+_0x289ffa[_0x2665d5(0x1d6)]+_0x2665d5(0x325),playDebounceTimer=setTimeout(async()=>{const _0x528de2=_0x2665d5;checkAndResumeAudioContext();try{const _0x536832=await _0x289ffa[_0x528de2(0x336)][_0x528de2(0x2b4)]();await loadAudioEngine(_0x536832,_0x289ffa),$(_0x528de2(0x333))[_0x528de2(0x23e)]=_0x272cd6+0x1+'.\x20'+_0x289ffa['name'];}catch(_0x35cc51){console['error'](_0x528de2(0x1ac),_0x35cc51),$('#marquee')['textContent']=_0x528de2(0x1ae),isChangingTrack=![],_0x289ffa[_0x528de2(0x25a)]=!![],await saveTrackToLib(_0x289ffa),renderPlaylistUI();}},0xc8);}function handleNextTrack(_0x46ca02=![]){const _0x52d83a=_0x235009;let _0x30e7b0=getCurrentDisplayList();if(_0x30e7b0[_0x52d83a(0x298)]===0x0)return;let _0x1bfb4e;if(_0x46ca02&&repeatMode===0x2)_0x1bfb4e=currentTrackIndex;else{if(isShuffle){if(_0x30e7b0['length']>0x1)do{_0x1bfb4e=Math['floor'](Math[_0x52d83a(0x31b)]()*_0x30e7b0[_0x52d83a(0x298)]);}while(_0x1bfb4e===currentTrackIndex);else _0x1bfb4e=0x0;}else _0x1bfb4e=currentTrackIndex+0x1;}_0x1bfb4e<_0x30e7b0[_0x52d83a(0x298)]?playTrack(_0x1bfb4e):repeatMode===0x1||!_0x46ca02?playTrack(0x0):$(_0x52d83a(0x27f))[_0x52d83a(0x1a0)]();}function handlePrevTrack(){const _0x368384=_0x235009;let _0x427fca=getCurrentDisplayList();if(_0x427fca[_0x368384(0x298)]===0x0)return;let _0x4fc241=isShuffle?Math[_0x368384(0x314)](Math[_0x368384(0x31b)]()*_0x427fca[_0x368384(0x298)]):currentTrackIndex-0x1;if(_0x4fc241<0x0)_0x4fc241=repeatMode===0x1?_0x427fca[_0x368384(0x298)]-0x1:0x0;playTrack(_0x4fc241);}$('#btn-play')['onclick']=async()=>{const _0x1cb7a2=_0x235009;if(!isEngineHot)await initAudioEngine();checkAndResumeAudioContext();const _0x40bb92=getCurrentDisplayList(),_0x321c4a='ontouchstart'in window||navigator[_0x1cb7a2(0x275)]>0x0;if(_0x321c4a&&selectedIndices[_0x1cb7a2(0x19c)]>0x0){const _0x1c8b0f=Array[_0x1cb7a2(0x1c2)](selectedIndices)[0x0];if(_0x1c8b0f!==currentTrackIndex&&_0x40bb92[_0x1c8b0f]){playTrack(_0x1c8b0f);return;}}if(!stretch&&_0x40bb92[_0x1cb7a2(0x298)]>0x0)playTrack(Math[_0x1cb7a2(0x301)](0x0,currentTrackIndex));else stretch&&(controlValues[_0x1cb7a2(0x18e)]=!controlValues['active'],controlsChanged(0.1));},$('#btn-pause')[_0x235009(0x1e5)]=()=>{const _0x3c0479=_0x235009;controlValues[_0x3c0479(0x18e)]=![],controlsChanged();},$(_0x235009(0x27f))[_0x235009(0x1e5)]=()=>{const _0x9e586d=_0x235009;controlValues[_0x9e586d(0x18e)]=![],stretch&&(stretch[_0x9e586d(0x2b9)](),stretch['schedule']({'input':0x0})),$('#playback')[_0x9e586d(0x1eb)]=0x0,$('#time-display')[_0x9e586d(0x23e)]=_0x9e586d(0x311),$(_0x9e586d(0x195))[_0x9e586d(0x19e)][_0x9e586d(0x171)](_0x9e586d(0x331)),$('#marquee')[_0x9e586d(0x23e)]=_0x9e586d(0x337),isChangingTrack=![],updatePositionState();},$(_0x235009(0x1a2))[_0x235009(0x1e5)]=()=>handleNextTrack(![]),$(_0x235009(0x2ce))[_0x235009(0x1e5)]=()=>handlePrevTrack();const eqContainer=$(_0x235009(0x310)),eqCanvas=$('#eq-graph'),eqCtx=eqCanvas['getContext']('2d');$('#btn-eq-toggle')[_0x235009(0x1e5)]=()=>{const _0x45164c=_0x235009;isEqOn=!isEqOn,$(_0x45164c(0x276))[_0x45164c(0x23e)]=isEqOn?'ON':'OFF',$(_0x45164c(0x244))[_0x45164c(0x19e)][_0x45164c(0x2e6)](_0x45164c(0x331),isEqOn),$$(_0x45164c(0x24d))['forEach']((_0x3ce399,_0x55124f)=>updateEqBand(_0x55124f,_0x3ce399['value'])),saveSettings();},FREQUENCIES[_0x235009(0x250)]((_0x16a40a,_0x2f7572)=>{const _0x46c19e=_0x235009,_0xe255f5=document[_0x46c19e(0x2e8)]('div');_0xe255f5['className']=_0x46c19e(0x1aa),_0xe255f5[_0x46c19e(0x1c1)]='<div\x20class=\x22relative\x20h-full\x20w-full\x20flex\x20justify-center\x22><div\x20class=\x22eq-bar-bg\x20'+(isEqOn?'eq-bar-active':'')+_0x46c19e(0x29a)+_0x2f7572+'\x22></div><div\x20class=\x22eq-thumb\x20\x22\x20style=\x22top:\x2050%\x22\x20id=\x22thumb-'+_0x2f7572+_0x46c19e(0x30e)+_0x2f7572+_0x46c19e(0x22e)+(_0x16a40a>=0x3e8?_0x16a40a/0x3e8+'k':_0x16a40a)+_0x46c19e(0x2d7),_0xe255f5['querySelector'](_0x46c19e(0x21a))[_0x46c19e(0x1b2)]=_0x1c89fd=>{const _0x256c68=_0x46c19e;_0x1c89fd['target'][_0x256c68(0x1eb)]=0x0,handleEqInput(_0x2f7572,0x0,_0x1c89fd[_0x256c68(0x188)]);},eqContainer[_0x46c19e(0x187)](_0xe255f5);}),window[_0x235009(0x319)]=(_0x262adc,_0x5a1894,_0xf3dbbc)=>{const _0x9194f6=_0x235009;$('#eq-preset-select')[_0x9194f6(0x1eb)]!==_0x9194f6(0x2ea)&&($(_0x9194f6(0x277))[_0x9194f6(0x1eb)]=_0x9194f6(0x2ea)),updateEqBand(_0x262adc,_0x5a1894),updateThumb(_0xf3dbbc,_0x9194f6(0x1e7)+_0x262adc);},window['updateThumb']=(_0x44ebc2,_0x677519)=>{const _0x333437=_0x235009,_0x44301f=parseFloat(_0x44ebc2[_0x333437(0x214)]),_0x3dae4e=parseFloat(_0x44ebc2[_0x333437(0x301)]),_0x4bf6a1=parseFloat(_0x44ebc2[_0x333437(0x1eb)]),_0x122108=(_0x4bf6a1-_0x44301f)/(_0x3dae4e-_0x44301f)*0x64,_0x5dc384=$('#'+_0x677519);if(_0x5dc384)_0x5dc384[_0x333437(0x2ff)][_0x333437(0x341)]=0x64-_0x122108+'%';},window[_0x235009(0x329)]=(_0x18ee22,_0x124efa)=>{const _0x36ee9d=_0x235009;if(eqNodes[_0x18ee22])eqNodes[_0x18ee22][_0x36ee9d(0x2e4)]['value']=isEqOn?parseFloat(_0x124efa):0x0;const _0x5cf72f=$(_0x36ee9d(0x34b)+_0x18ee22);if(_0x5cf72f){if(isEqOn)_0x5cf72f[_0x36ee9d(0x19e)][_0x36ee9d(0x283)](_0x36ee9d(0x1a3));else _0x5cf72f[_0x36ee9d(0x19e)][_0x36ee9d(0x171)](_0x36ee9d(0x1a3));}drawEQCurve(),saveSettings();};function drawEQCurve(){const _0xe13e8e=_0x235009;eqCtx[_0xe13e8e(0x16f)](0x0,0x0,eqCanvas[_0xe13e8e(0x181)],eqCanvas[_0xe13e8e(0x28a)]),eqCtx['strokeStyle']=_0xe13e8e(0x327),eqCtx[_0xe13e8e(0x2d9)]=0x1,eqCtx[_0xe13e8e(0x29e)](),eqCtx[_0xe13e8e(0x24f)](0x0,0xf),eqCtx[_0xe13e8e(0x263)](0xb4,0xf),eqCtx[_0xe13e8e(0x330)]();if(!isEqOn)return;eqCtx['strokeStyle']=currentTheme[_0xe13e8e(0x2dd)],eqCtx[_0xe13e8e(0x2d9)]=0x2,eqCtx[_0xe13e8e(0x29e)]();const _0xd99616=eqCanvas[_0xe13e8e(0x181)]/(FREQUENCIES[_0xe13e8e(0x298)]-0x1),_0x5b0e50=[];FREQUENCIES[_0xe13e8e(0x250)]((_0x56f24a,_0x533d46)=>{const _0x31159d=_0xe13e8e;let _0x402e99=0x0;if(eqNodes[_0x533d46])_0x402e99=eqNodes[_0x533d46]['gain'][_0x31159d(0x1eb)];else{const _0x20f246=$('input[data-idx=\x22'+_0x533d46+'\x22]');_0x402e99=_0x20f246?parseFloat(_0x20f246[_0x31159d(0x1eb)]):0x0;}_0x5b0e50['push']({'x':_0x533d46*_0xd99616,'y':0xf-_0x402e99*(0xf/0xe)});}),eqCtx['moveTo'](_0x5b0e50[0x0]['x'],_0x5b0e50[0x0]['y']);for(let _0x517819=0x1;_0x517819<_0x5b0e50[_0xe13e8e(0x298)]-0x2;_0x517819++){const _0x263d51=(_0x5b0e50[_0x517819]['x']+_0x5b0e50[_0x517819+0x1]['x'])/0x2,_0x46b57f=(_0x5b0e50[_0x517819]['y']+_0x5b0e50[_0x517819+0x1]['y'])/0x2;eqCtx['quadraticCurveTo'](_0x5b0e50[_0x517819]['x'],_0x5b0e50[_0x517819]['y'],_0x263d51,_0x46b57f);}eqCtx[_0xe13e8e(0x216)](_0x5b0e50[_0x5b0e50[_0xe13e8e(0x298)]-0x2]['x'],_0x5b0e50[_0x5b0e50['length']-0x2]['y'],_0x5b0e50[_0x5b0e50[_0xe13e8e(0x298)]-0x1]['x'],_0x5b0e50[_0x5b0e50['length']-0x1]['y']),eqCtx['stroke']();}$('#eq-preset-select')[_0x235009(0x2db)]=_0x47b5e1=>{const _0x101daf=_0x235009,_0x40194b=_0x47b5e1[_0x101daf(0x188)][_0x101daf(0x1eb)];PRESETS[_0x40194b]&&(PRESETS[_0x40194b]['forEach']((_0x2b9304,_0x27b518)=>{const _0x2e84bb=_0x101daf,_0x2dec96=$(_0x2e84bb(0x1fc)+_0x27b518+'\x22]');if(_0x2dec96){_0x2dec96[_0x2e84bb(0x1eb)]=_0x2b9304,updateThumb(_0x2dec96,'thumb-'+_0x27b518);if(eqNodes[_0x27b518])eqNodes[_0x27b518][_0x2e84bb(0x2e4)][_0x2e84bb(0x1eb)]=isEqOn?_0x2b9304:0x0;}}),drawEQCurve(),saveSettings());};const cvs=$(_0x235009(0x199)),ctx=cvs[_0x235009(0x317)]('2d'),visualModeNames=[_0x235009(0x2aa),_0x235009(0x2fd),_0x235009(0x345),_0x235009(0x282)];let visualMode=0x0;$(_0x235009(0x192))[_0x235009(0x1e5)]=()=>{const _0x308065=_0x235009;visualMode=(visualMode+0x1)%0x4;const _0x2f52a2=$(_0x308065(0x184));_0x2f52a2['textContent']=''+visualModeNames[visualMode],_0x2f52a2[_0x308065(0x2ff)][_0x308065(0x1c9)]=visualMode===0x3?_0x308065(0x2a2):'1';};function resizeCvs(){const _0x1d1387=_0x235009,_0x5797c0=cvs['parentElement'][_0x1d1387(0x18b)]();cvs[_0x1d1387(0x181)]=_0x5797c0[_0x1d1387(0x181)],cvs[_0x1d1387(0x28a)]=_0x5797c0[_0x1d1387(0x28a)];}window[_0x235009(0x2e0)]('resize',resizeCvs),setTimeout(resizeCvs,0x1f4);let lastUpdateTime=0x0,lastFrameTime=0x0;const targetFPS=0x3c;function draw(_0x5826ec){const _0x3b72f6=_0x235009;requestAnimationFrame(draw);if(_0x5826ec-lastFrameTime<0x3e8/targetFPS)return;lastFrameTime=_0x5826ec;_0x5826ec-lastUpdateTime>0x3e8&&(updatePositionState(),lastUpdateTime=_0x5826ec);if(stretch&&!holding){const _0x368c7d=$('#playback');_0x368c7d[_0x3b72f6(0x301)]=audioDuration;const _0x3fa6d9=stretch['inputTime']||0x0;_0x368c7d['value']=_0x3fa6d9,$(_0x3b72f6(0x203))[_0x3b72f6(0x23e)]=formatTime(_0x3fa6d9),controlValues[_0x3b72f6(0x18e)]&&_0x3fa6d9>=audioDuration-0.2&&!isChangingTrack&&handleNextTrack(!![]);}ctx[_0x3b72f6(0x26e)]=_0x3b72f6(0x1f8),ctx[_0x3b72f6(0x175)](0x0,0x0,cvs[_0x3b72f6(0x181)],cvs[_0x3b72f6(0x28a)]);if(visualMode===0x3)return;const _0x5b82d8=analyser[_0x3b72f6(0x324)],_0x20f303=new Uint8Array(_0x5b82d8);if(visualMode===0x0){analyser['getByteFrequencyData'](_0x20f303);const _0x12b194=cvs[_0x3b72f6(0x28a)]*0.7,_0x3a386c=cvs[_0x3b72f6(0x28a)],_0x139d4e=cvs[_0x3b72f6(0x181)]/_0x5b82d8*2.5,_0x126a7f=ctx[_0x3b72f6(0x19f)](0x0,_0x3a386c,0x0,_0x3a386c-_0x12b194);_0x126a7f[_0x3b72f6(0x29d)](0x0,currentTheme[_0x3b72f6(0x1f4)]),_0x126a7f[_0x3b72f6(0x29d)](0.6,currentTheme[_0x3b72f6(0x258)]),_0x126a7f[_0x3b72f6(0x29d)](0x1,currentTheme['eq3']),ctx[_0x3b72f6(0x26e)]=_0x126a7f;let _0x54ea8b=0x0;for(let _0x1153e1=0x0;_0x1153e1<_0x5b82d8;_0x1153e1++){const _0x315f3a=_0x20f303[_0x1153e1]/0xff,_0x2fdd55=_0x315f3a*_0x12b194;if(_0x2fdd55>0x0)ctx[_0x3b72f6(0x175)](_0x54ea8b,_0x3a386c-_0x2fdd55,_0x139d4e-0x1,_0x2fdd55);_0x54ea8b+=_0x139d4e;}}else{if(visualMode===0x1){analyser['getByteFrequencyData'](_0x20f303);const _0x130bcc=cvs[_0x3b72f6(0x28a)]*0.7,_0x589195=cvs[_0x3b72f6(0x28a)];ctx[_0x3b72f6(0x2d9)]=0x2,ctx['strokeStyle']=currentTheme['text'],ctx[_0x3b72f6(0x29e)]();const _0x4a2301=cvs['width']/_0x5b82d8;let _0x2631b1=0x0;for(let _0x2d5df1=0x0;_0x2d5df1<_0x5b82d8;_0x2d5df1++){const _0x5288ad=_0x20f303[_0x2d5df1]/0xff,_0x5e1f67=_0x589195-_0x5288ad*_0x130bcc;if(_0x2d5df1===0x0)ctx[_0x3b72f6(0x24f)](_0x2631b1,_0x5e1f67);else ctx[_0x3b72f6(0x263)](_0x2631b1,_0x5e1f67);_0x2631b1+=_0x4a2301;}ctx[_0x3b72f6(0x330)]();}else{if(visualMode===0x2){analyser[_0x3b72f6(0x204)](_0x20f303),ctx[_0x3b72f6(0x2d9)]=0x2,ctx[_0x3b72f6(0x24a)]=_0x3b72f6(0x309),ctx[_0x3b72f6(0x29e)]();const _0x4083e5=cvs[_0x3b72f6(0x181)]*0x1/_0x5b82d8;let _0x2ce3ae=0x0;for(let _0x4d7cc8=0x0;_0x4d7cc8<_0x5b82d8;_0x4d7cc8++){const _0x27abd9=_0x20f303[_0x4d7cc8]/0x80,_0xe3b065=cvs['height']/0x2+(_0x27abd9-0x1)*(cvs[_0x3b72f6(0x28a)]/0x2);if(_0x4d7cc8===0x0)ctx[_0x3b72f6(0x24f)](_0x2ce3ae,_0xe3b065);else ctx[_0x3b72f6(0x263)](_0x2ce3ae,_0xe3b065);_0x2ce3ae+=_0x4083e5;}ctx['stroke']();}}}}requestAnimationFrame(draw),$(_0x235009(0x1b6))[_0x235009(0x1e5)]=_0x4204f9=>{const _0x3166f4=_0x235009;(_0x4204f9[_0x3166f4(0x188)]['id']===_0x3166f4(0x2f9)||_0x4204f9[_0x3166f4(0x188)][_0x3166f4(0x19e)][_0x3166f4(0x350)]('text-center'))&&(selectedIndices['clear'](),renderPlaylistUI());},window[_0x235009(0x21c)]=()=>{const _0x17b9b8=_0x235009,_0x116dd9=$(_0x17b9b8(0x1b6));_0x116dd9[_0x17b9b8(0x1c1)]='';let _0x368f23=getCurrentDisplayList();if(_0x368f23[_0x17b9b8(0x298)]===0x0)_0x116dd9[_0x17b9b8(0x1c1)]=_0x17b9b8(0x178)+(currentPlaylistId===_0x17b9b8(0x2d4)?'Drop\x20files\x20or\x20Click\x20ADD...':'Playlist\x20empty.')+'</div>';else _0x368f23[_0x17b9b8(0x250)]((_0x2abcd2,_0x2d779e)=>{const _0x1c0b7c=_0x17b9b8,_0x517ce3=document[_0x1c0b7c(0x2e8)]('div');selectedIndices['has'](_0x2d779e)?_0x517ce3[_0x1c0b7c(0x19e)]['add'](_0x1c0b7c(0x30b)):_0x2abcd2[_0x1c0b7c(0x25a)]?_0x517ce3[_0x1c0b7c(0x241)]+='\x20text-red-500\x20hover:bg-[#222]':_0x517ce3['className']+='\x20theme-text-main\x20hover:bg-[#222]';let _0x4b5e0f=_0x2d779e===currentTrackIndex?_0x1c0b7c(0x1da):'';_0x517ce3[_0x1c0b7c(0x241)]+=_0x1c0b7c(0x33b)+_0x4b5e0f,_0x517ce3[_0x1c0b7c(0x1e0)]=!![],_0x517ce3[_0x1c0b7c(0x1c1)]=_0x1c0b7c(0x1ce)+(_0x2d779e+0x1)+'.</span><span\x20class=\x22truncate\x22>'+_0x2abcd2[_0x1c0b7c(0x1d6)]+'</span></div>',_0x517ce3[_0x1c0b7c(0x284)]=_0x566644=>{const _0x35848b=_0x1c0b7c;_0x566644[_0x35848b(0x219)][_0x35848b(0x2b5)](_0x35848b(0x206),_0x2d779e),_0x517ce3[_0x35848b(0x19e)][_0x35848b(0x283)](_0x35848b(0x264));},_0x517ce3[_0x1c0b7c(0x191)]=()=>_0x517ce3[_0x1c0b7c(0x19e)][_0x1c0b7c(0x171)]('dragging'),_0x517ce3[_0x1c0b7c(0x2be)]=_0x43b6ca=>{const _0x5490e9=_0x1c0b7c;_0x43b6ca['preventDefault'](),_0x517ce3['classList'][_0x5490e9(0x283)]('drag-over');},_0x517ce3[_0x1c0b7c(0x239)]=()=>_0x517ce3[_0x1c0b7c(0x19e)][_0x1c0b7c(0x171)](_0x1c0b7c(0x294)),_0x517ce3[_0x1c0b7c(0x2f8)]=_0x71c86e=>{const _0x26c530=_0x1c0b7c;_0x71c86e[_0x26c530(0x2c6)](),_0x517ce3[_0x26c530(0x19e)][_0x26c530(0x171)](_0x26c530(0x294)),handleDragDrop(parseInt(_0x71c86e[_0x26c530(0x219)]['getData'](_0x26c530(0x206))),_0x2d779e);};let _0x3be1b0=0x0;_0x517ce3[_0x1c0b7c(0x2e1)]=_0x13b6e4=>{const _0x470ce3=_0x1c0b7c,_0x31f29e=new Date()[_0x470ce3(0x1ff)](),_0x51f44e=_0x31f29e-_0x3be1b0;_0x51f44e<0x12c&&_0x51f44e>0x0&&(_0x13b6e4[_0x470ce3(0x2c6)](),playTrack(_0x2d779e)),_0x3be1b0=_0x31f29e;},_0x517ce3['onclick']=_0x1884fb=>{const _0x428a4c=_0x1c0b7c;_0x1884fb[_0x428a4c(0x17c)]();if(_0x1884fb['shiftKey']&&lastSelectedIndex!==-0x1){const _0x5b8a11=Math[_0x428a4c(0x214)](lastSelectedIndex,_0x2d779e),_0x33396d=Math[_0x428a4c(0x301)](lastSelectedIndex,_0x2d779e);selectedIndices[_0x428a4c(0x2bb)]();for(let _0x166dbd=_0x5b8a11;_0x166dbd<=_0x33396d;_0x166dbd++)selectedIndices['add'](_0x166dbd);}else _0x1884fb[_0x428a4c(0x292)]||_0x1884fb[_0x428a4c(0x16c)]?(selectedIndices['has'](_0x2d779e)?selectedIndices[_0x428a4c(0x210)](_0x2d779e):selectedIndices[_0x428a4c(0x283)](_0x2d779e),lastSelectedIndex=_0x2d779e):(selectedIndices[_0x428a4c(0x2bb)](),selectedIndices[_0x428a4c(0x283)](_0x2d779e),lastSelectedIndex=_0x2d779e);renderPlaylistUI();},_0x517ce3['ondblclick']=()=>playTrack(_0x2d779e),_0x116dd9[_0x1c0b7c(0x187)](_0x517ce3);});$(_0x17b9b8(0x1cf))['textContent']=_0x368f23[_0x17b9b8(0x298)]+_0x17b9b8(0x2a3);const _0x2e95df=selectedIndices[_0x17b9b8(0x19c)]>0x0,_0x269031=(_0x34425f,_0x4b12e1)=>{const _0x3be925=_0x17b9b8,_0x19b063=$(_0x34425f);_0x19b063[_0x3be925(0x200)]=_0x4b12e1;if(_0x4b12e1)_0x19b063[_0x3be925(0x19e)]['add']('text-gray-500',_0x3be925(0x18c)),_0x19b063[_0x3be925(0x19e)][_0x3be925(0x171)](_0x3be925(0x1e1),_0x3be925(0x24b),'cursor-pointer');else{_0x19b063[_0x3be925(0x19e)][_0x3be925(0x171)](_0x3be925(0x246),'cursor-default'),_0x19b063['classList'][_0x3be925(0x283)](_0x3be925(0x23d));if(_0x34425f===_0x3be925(0x1dc))_0x19b063[_0x3be925(0x19e)][_0x3be925(0x283)](_0x3be925(0x1e1));else _0x19b063['classList']['add'](_0x3be925(0x24b));}};_0x269031(_0x17b9b8(0x1dc),!_0x2e95df),_0x269031(_0x17b9b8(0x2f0),!_0x2e95df),_0x269031(_0x17b9b8(0x24e),!_0x2e95df),$(_0x17b9b8(0x296))[_0x17b9b8(0x2ff)][_0x17b9b8(0x1bc)]=currentPlaylistId===_0x17b9b8(0x2d4)?'none':_0x17b9b8(0x1ba);},window['moveTrack']=_0xc1ec7b=>{const _0xd8cadb=_0x235009;if(selectedIndices[_0xd8cadb(0x19c)]!==0x1)return;const _0x29fc74=Array[_0xd8cadb(0x1c2)](selectedIndices)[0x0];handleDragDrop(_0x29fc74,_0x29fc74+_0xc1ec7b);},window['handleDragDrop']=async(_0x2dff8b,_0x4e4533)=>{const _0xd8f747=_0x235009;let _0x82e4ca=getCurrentDisplayList();if(_0x4e4533<0x0||_0x4e4533>=_0x82e4ca[_0xd8f747(0x298)]||_0x2dff8b===_0x4e4533)return;const _0x5211ec=_0x82e4ca[_0xd8f747(0x1a9)](_0x2dff8b,0x1)[0x0];_0x82e4ca[_0xd8f747(0x1a9)](_0x4e4533,0x0,_0x5211ec);if(currentTrackIndex===_0x2dff8b)currentTrackIndex=_0x4e4533;else{if(currentTrackIndex===_0x4e4533&&_0x2dff8b>_0x4e4533)currentTrackIndex++;else{if(currentTrackIndex===_0x4e4533&&_0x2dff8b<_0x4e4533)currentTrackIndex--;}}currentPlaylistId!=='main'&&(playlists[currentPlaylistId]['trackIds']=_0x82e4ca[_0xd8f747(0x234)](_0x542bd8=>_0x542bd8['id']),await savePlaylistsToDB(playlists[currentPlaylistId])),selectedIndices[_0xd8f747(0x2bb)](),selectedIndices['add'](_0x4e4533),renderPlaylistUI();},window['handleDeleteTracks']=async()=>{const _0x56572b=_0x235009;if(selectedIndices[_0x56572b(0x19c)]===0x0)return;customConfirm(_0x56572b(0x31a)+selectedIndices[_0x56572b(0x19c)]+_0x56572b(0x243),async()=>{const _0x4d1ee3=_0x56572b,_0x27c2fe=Array[_0x4d1ee3(0x1c2)](selectedIndices)[_0x4d1ee3(0x2e9)]((_0x43c5d8,_0x8b5cdd)=>_0x8b5cdd-_0x43c5d8);if(currentPlaylistId==='main'){const _0x320049=getCurrentDisplayList();for(let _0x1d9127 of _0x27c2fe){await deleteTrackFromLib(_0x320049[_0x1d9127]['id']),LIBRARY[_0x4d1ee3(0x1a9)](_0x1d9127,0x1);}}else{const _0x57febd=playlists[currentPlaylistId];for(let _0x4d886d of _0x27c2fe)_0x57febd[_0x4d1ee3(0x34e)][_0x4d1ee3(0x1a9)](_0x4d886d,0x1);await savePlaylistsToDB(_0x57febd);}selectedIndices[_0x4d1ee3(0x2bb)](),renderPlaylistUI();});},window['handleDeletePlaylist']=()=>{const _0x3d8cd7=_0x235009;if(currentPlaylistId==='main')return;customConfirm(_0x3d8cd7(0x2b1)+playlists[currentPlaylistId][_0x3d8cd7(0x1d6)]+'\x22?',()=>{const _0x574428=_0x3d8cd7;delete playlists[currentPlaylistId];const _0xe74806=dbReq['result'],_0x306ada=_0xe74806['transaction'](_0x574428(0x2ba),'readwrite');_0x306ada[_0x574428(0x16e)](_0x574428(0x2ba))[_0x574428(0x210)](currentPlaylistId),switchPlaylist(_0x574428(0x2d4)),renderPlaylistSelect();});};const fileInput=$('#upload-file');$('#btn-pl-add')['onclick']=()=>{const _0x488ddf=_0x235009;$(_0x488ddf(0x2af))[_0x488ddf(0x19e)][_0x488ddf(0x171)](_0x488ddf(0x27c));},window['triggerLocalFile']=()=>{const _0x408fc1=_0x235009;$(_0x408fc1(0x2af))['classList'][_0x408fc1(0x283)](_0x408fc1(0x27c)),$(_0x408fc1(0x1e6))[_0x408fc1(0x1a0)]();},window[_0x235009(0x26d)]=()=>$(_0x235009(0x2af))[_0x235009(0x19e)][_0x235009(0x283)](_0x235009(0x27c)),fileInput[_0x235009(0x2db)]=_0x740a6f=>handleFiles(_0x740a6f[_0x235009(0x188)][_0x235009(0x1e8)]),document[_0x235009(0x201)][_0x235009(0x2be)]=_0x52dc03=>_0x52dc03[_0x235009(0x2c6)](),document[_0x235009(0x201)][_0x235009(0x2f8)]=_0x3c55b4=>{const _0xbef4f3=_0x235009;_0x3c55b4[_0xbef4f3(0x2c6)](),handleFiles(_0x3c55b4[_0xbef4f3(0x219)][_0xbef4f3(0x1e8)]);};async function handleFiles(_0x378215){const _0x43b0a0=_0x235009;if(!isEngineHot)await initAudioEngine();checkAndResumeAudioContext();if(!isEngineHot)await audioContext[_0x43b0a0(0x32d)]();for(const _0x19eda2 of _0x378215){const _0x2d19a6='t_'+Date[_0x43b0a0(0x16d)]()+Math['random'](),_0x278c6f={'id':_0x2d19a6,'name':_0x19eda2[_0x43b0a0(0x1d6)],'blob':_0x19eda2};LIBRARY[_0x43b0a0(0x23a)](_0x278c6f),await saveTrackToLib(_0x278c6f),currentPlaylistId!==_0x43b0a0(0x2d4)&&(playlists[currentPlaylistId][_0x43b0a0(0x34e)][_0x43b0a0(0x23a)](_0x2d19a6),await savePlaylistsToDB(playlists[currentPlaylistId]));}renderPlaylistUI();}window[_0x235009(0x34d)]=()=>{const _0x209e1c=_0x235009;$(_0x209e1c(0x30d))[_0x209e1c(0x1eb)]='',$(_0x209e1c(0x2f6))[_0x209e1c(0x19e)]['remove']('hidden'),$(_0x209e1c(0x30d))[_0x209e1c(0x299)]();},window['closeNewPlaylistModal']=()=>$('#modal-new-playlist')[_0x235009(0x19e)][_0x235009(0x283)]('hidden'),window[_0x235009(0x1c0)]=()=>{const _0x301a23=_0x235009,_0x559d58=$(_0x301a23(0x30d))[_0x301a23(0x1eb)];_0x559d58&&_0x559d58[_0x301a23(0x30a)]()[_0x301a23(0x298)]>0x0&&(createNewPlaylist(_0x559d58['trim']()),closeNewPlaylistModal());},window[_0x235009(0x21b)]=_0xea8462=>{const _0x6b98b1='pl_'+Date['now']();playlists[_0x6b98b1]={'id':_0x6b98b1,'name':_0xea8462,'trackIds':[]},savePlaylistsToDB(playlists[_0x6b98b1]),renderPlaylistSelect(),switchPlaylist(_0x6b98b1);},window['switchPlaylist']=_0x2aede4=>{const _0x3abb34=_0x235009;currentPlaylistId=_0x2aede4,$(_0x3abb34(0x349))['value']=_0x2aede4,selectedIndices[_0x3abb34(0x2bb)](),renderPlaylistUI(),saveSettings();},window[_0x235009(0x342)]=()=>{const _0x3c8cab=_0x235009,_0x195557=$(_0x3c8cab(0x349));_0x195557[_0x3c8cab(0x1c1)]='<option\x20value=\x22main\x22>Main\x20Library</option>',Object[_0x3c8cab(0x2c5)](playlists)[_0x3c8cab(0x245)](_0x48a592=>_0x48a592!==_0x3c8cab(0x2d4))['forEach'](_0x52cad5=>{const _0x3e9ab9=_0x3c8cab,_0x3b9157=document[_0x3e9ab9(0x2e8)](_0x3e9ab9(0x180));_0x3b9157['value']=_0x52cad5,_0x3b9157['textContent']=playlists[_0x52cad5][_0x3e9ab9(0x1d6)],_0x195557[_0x3e9ab9(0x187)](_0x3b9157);}),_0x195557[_0x3c8cab(0x1eb)]=currentPlaylistId;},$(_0x235009(0x349))[_0x235009(0x2db)]=_0x1a15e0=>switchPlaylist(_0x1a15e0[_0x235009(0x188)][_0x235009(0x1eb)]),window[_0x235009(0x1fa)]=()=>{const _0x4407fe=_0x235009;if(!selectedIndices[_0x4407fe(0x19c)])return customAlert(_0x4407fe(0x1f7));const _0x64a2ad=$(_0x4407fe(0x30c));_0x64a2ad['innerHTML']='',Object[_0x4407fe(0x2c5)](playlists)[_0x4407fe(0x245)](_0x356676=>_0x356676!==_0x4407fe(0x2d4))[_0x4407fe(0x250)](_0x18edad=>{const _0x5eda73=_0x4407fe,_0x1eb998=document[_0x5eda73(0x2e8)](_0x5eda73(0x179));_0x1eb998[_0x5eda73(0x241)]=_0x5eda73(0x230),_0x1eb998[_0x5eda73(0x23e)]=playlists[_0x18edad][_0x5eda73(0x1d6)],_0x1eb998[_0x5eda73(0x1e5)]=()=>{const _0xf43333=_0x5eda73,_0x375065=getCurrentDisplayList(),_0x9d5928=Array[_0xf43333(0x1c2)](selectedIndices)['map'](_0xb27534=>_0x375065[_0xb27534]['id']);playlists[_0x18edad][_0xf43333(0x34e)][_0xf43333(0x23a)](..._0x9d5928),savePlaylistsToDB(playlists[_0x18edad]),closeAddToModal(),selectedIndices[_0xf43333(0x2bb)](),renderPlaylistUI();},_0x64a2ad[_0x5eda73(0x187)](_0x1eb998);}),$(_0x4407fe(0x2f7))[_0x4407fe(0x19e)][_0x4407fe(0x171)](_0x4407fe(0x27c));},window[_0x235009(0x322)]=()=>$(_0x235009(0x2f7))[_0x235009(0x19e)][_0x235009(0x283)]('hidden');let isShuffle=![],repeatMode=0x0;$(_0x235009(0x25c))[_0x235009(0x1e5)]=function(){const _0x35afba=_0x235009;isShuffle=!isShuffle,this[_0x35afba(0x19e)][_0x35afba(0x2e6)](_0x35afba(0x18e),isShuffle),saveSettings();};const updateRepeatBtn=()=>{const _0x504cc0=_0x235009,_0x526ad4=$(_0x504cc0(0x2a4));_0x526ad4[_0x504cc0(0x19e)][_0x504cc0(0x171)](_0x504cc0(0x18e),_0x504cc0(0x22a));if(repeatMode===0x0)_0x526ad4[_0x504cc0(0x23e)]=_0x504cc0(0x1be);else{if(repeatMode===0x1)_0x526ad4['classList'][_0x504cc0(0x283)](_0x504cc0(0x18e)),_0x526ad4['textContent']=_0x504cc0(0x1df);else repeatMode===0x2&&(_0x526ad4[_0x504cc0(0x19e)][_0x504cc0(0x283)](_0x504cc0(0x22a)),_0x526ad4[_0x504cc0(0x23e)]='REP\x201');}};$(_0x235009(0x2a4))[_0x235009(0x1e5)]=function(){repeatMode=(repeatMode+0x1)%0x3,updateRepeatBtn(),saveSettings();};const updateMonoStereoState=()=>{const _0x105e5d=_0x235009;isMono?(stereoPath[_0x105e5d(0x2e4)][_0x105e5d(0x1eb)]=0x0,monoPath[_0x105e5d(0x2e4)][_0x105e5d(0x1eb)]=0x1,$('#btn-mono-stereo')[_0x105e5d(0x23e)]=_0x105e5d(0x286),$('#btn-mono-stereo')['classList'][_0x105e5d(0x171)]('theme-text-main'),$(_0x105e5d(0x323))[_0x105e5d(0x19e)][_0x105e5d(0x283)](_0x105e5d(0x279))):(stereoPath[_0x105e5d(0x2e4)][_0x105e5d(0x1eb)]=0x1,monoPath[_0x105e5d(0x2e4)][_0x105e5d(0x1eb)]=0x0,$(_0x105e5d(0x323))[_0x105e5d(0x23e)]='STEREO',$(_0x105e5d(0x323))['classList']['add'](_0x105e5d(0x255)),$('#btn-mono-stereo')[_0x105e5d(0x19e)][_0x105e5d(0x171)](_0x105e5d(0x279)));};$('#btn-mono-stereo')[_0x235009(0x1e5)]=async()=>{if(audioContext['state']==='suspended')await audioContext['resume']();isMono=!isMono,updateMonoStereoState(),saveSettings();},$(_0x235009(0x168))['onclick']=()=>{isReverbOn=!isReverbOn,updateReverbConnection(),saveSettings();},window[_0x235009(0x1ca)]=_0x3d53bc=>$('#'+_0x3d53bc)['classList'][_0x235009(0x2e6)]('hidden');let deferredPrompt;window['addEventListener'](_0x235009(0x2b8),_0x11ff51=>{const _0x1eddec=_0x235009;_0x11ff51['preventDefault'](),deferredPrompt=_0x11ff51,$(_0x1eddec(0x225))[_0x1eddec(0x19e)][_0x1eddec(0x171)]('hidden');}),$(_0x235009(0x225))['onclick']=async()=>{const _0x21e49c=_0x235009;$(_0x21e49c(0x225))[_0x21e49c(0x19e)][_0x21e49c(0x283)](_0x21e49c(0x27c)),deferredPrompt&&(deferredPrompt[_0x21e49c(0x2bc)](),deferredPrompt=null);};const pb=$(_0x235009(0x2ad));let holding=![];pb[_0x235009(0x29c)]=pb[_0x235009(0x17a)]=()=>holding=!![],pb[_0x235009(0x2a1)]=pb[_0x235009(0x2e1)]=()=>{const _0x45bbcd=_0x235009;holding=![],stretch&&(stretch['schedule']({'input':parseFloat(pb[_0x45bbcd(0x1eb)]),'rate':controlValues[_0x45bbcd(0x2d8)],'semitones':controlValues[_0x45bbcd(0x334)]}),updatePositionState());},pb[_0x235009(0x247)]=()=>{const _0x1695ba=_0x235009;if(!stretch)return;stretch['schedule']({'input':parseFloat(pb[_0x1695ba(0x1eb)]),'rate':0x0});},$(_0x235009(0x1b7))[_0x235009(0x247)]=_0x3b593a=>{const _0x118a5f=_0x235009;masterGainNode[_0x118a5f(0x2e4)]['value']=parseFloat(_0x3b593a[_0x118a5f(0x188)][_0x118a5f(0x1eb)]),$(_0x118a5f(0x20f))[_0x118a5f(0x23e)]=Math['round'](_0x3b593a[_0x118a5f(0x188)]['value']*0x64)+'%',saveSettings();},$(_0x235009(0x2df))[_0x235009(0x247)]=_0x12c440=>{const _0x15a059=_0x235009;pannerNode['pan'][_0x15a059(0x1eb)]=parseFloat(_0x12c440['target'][_0x15a059(0x1eb)]),saveSettings();},$(_0x235009(0x221))[_0x235009(0x247)]=_0x407baf=>{const _0x5df1bd=_0x235009;controlValues[_0x5df1bd(0x2d8)]=parseFloat(_0x407baf[_0x5df1bd(0x188)][_0x5df1bd(0x1eb)]),$('#val-rate')[_0x5df1bd(0x23e)]=controlValues[_0x5df1bd(0x2d8)][_0x5df1bd(0x208)](0x2),controlsChanged(),saveSettings();},$(_0x235009(0x291))[_0x235009(0x247)]=_0x17a6ba=>{const _0x59e5c7=_0x235009;controlValues['semitones']=parseFloat(_0x17a6ba[_0x59e5c7(0x188)]['value']),$(_0x59e5c7(0x29f))[_0x59e5c7(0x23e)]=controlValues['semitones'],controlsChanged(),saveSettings();};function audioBufferToWav(_0x308b3a,_0x2e22ee){const _0x4b8d09=_0x235009;_0x2e22ee=_0x2e22ee||{};var _0x523f34=_0x308b3a[_0x4b8d09(0x315)],_0x132619=_0x308b3a[_0x4b8d09(0x1c3)],_0xf3a488=_0x2e22ee[_0x4b8d09(0x2de)]?0x3:0x1,_0x14e6a5=_0xf3a488===0x3?0x20:0x10,_0x35890a;return _0x523f34===0x2?_0x35890a=interleave(_0x308b3a['getChannelData'](0x0),_0x308b3a[_0x4b8d09(0x339)](0x1)):_0x35890a=_0x308b3a[_0x4b8d09(0x339)](0x0),encodeWAV(_0x35890a,_0xf3a488,_0x132619,_0x523f34,_0x14e6a5);}function interleave(_0x49baba,_0x1f5508){const _0x4dd64d=_0x235009;var _0xdc52bc=_0x49baba[_0x4dd64d(0x298)]+_0x1f5508[_0x4dd64d(0x298)],_0x3fa5af=new Float32Array(_0xdc52bc),_0x4feb76=0x0,_0xd31e06=0x0;while(_0x4feb76<_0xdc52bc){_0x3fa5af[_0x4feb76++]=_0x49baba[_0xd31e06],_0x3fa5af[_0x4feb76++]=_0x1f5508[_0xd31e06],_0xd31e06++;}return _0x3fa5af;}function encodeWAV(_0x5f4a1b,_0x5baa70,_0x55eb06,_0x8e90c5,_0x3b1fdb){const _0x5235bf=_0x235009;var _0x5e7ab3=_0x3b1fdb/0x8,_0x2f2874=_0x8e90c5*_0x5e7ab3,_0x4d9719=new ArrayBuffer(0x2c+_0x5f4a1b[_0x5235bf(0x298)]*_0x5e7ab3),_0x26e84d=new DataView(_0x4d9719);return writeString(_0x26e84d,0x0,'RIFF'),_0x26e84d[_0x5235bf(0x1f3)](0x4,0x24+_0x5f4a1b[_0x5235bf(0x298)]*_0x5e7ab3,!![]),writeString(_0x26e84d,0x8,_0x5235bf(0x345)),writeString(_0x26e84d,0xc,_0x5235bf(0x26a)),_0x26e84d['setUint32'](0x10,0x10,!![]),_0x26e84d['setUint16'](0x14,_0x5baa70,!![]),_0x26e84d[_0x5235bf(0x22f)](0x16,_0x8e90c5,!![]),_0x26e84d['setUint32'](0x18,_0x55eb06,!![]),_0x26e84d[_0x5235bf(0x1f3)](0x1c,_0x55eb06*_0x2f2874,!![]),_0x26e84d['setUint16'](0x20,_0x2f2874,!![]),_0x26e84d[_0x5235bf(0x22f)](0x22,_0x3b1fdb,!![]),writeString(_0x26e84d,0x24,'data'),_0x26e84d[_0x5235bf(0x1f3)](0x28,_0x5f4a1b['length']*_0x5e7ab3,!![]),_0x5baa70===0x1?floatTo16BitPCM(_0x26e84d,0x2c,_0x5f4a1b):floatTo32BitPCM(_0x26e84d,0x2c,_0x5f4a1b),new Blob([_0x26e84d],{'type':_0x5235bf(0x1ea)});}function floatTo16BitPCM(_0x17385b,_0x2ebbeb,_0x53285a){const _0x6baf75=_0x235009;for(var _0x390058=0x0;_0x390058<_0x53285a[_0x6baf75(0x298)];_0x390058++,_0x2ebbeb+=0x2){var _0x183def=Math[_0x6baf75(0x301)](-0x1,Math['min'](0x1,_0x53285a[_0x390058]));_0x17385b[_0x6baf75(0x17e)](_0x2ebbeb,_0x183def<0x0?_0x183def*0x8000:_0x183def*0x7fff,!![]);}}function floatTo32BitPCM(_0x261f3d,_0x176838,_0x3e26c8){const _0x36ee02=_0x235009;for(var _0x12ea00=0x0;_0x12ea00<_0x3e26c8[_0x36ee02(0x298)];_0x12ea00++,_0x176838+=0x4){_0x261f3d[_0x36ee02(0x259)](_0x176838,_0x3e26c8[_0x12ea00],!![]);}}function writeString(_0x97d5f2,_0x2e0ee2,_0x1700f1){const _0x9b2cc4=_0x235009;for(var _0x180395=0x0;_0x180395<_0x1700f1[_0x9b2cc4(0x298)];_0x180395++){_0x97d5f2[_0x9b2cc4(0x19b)](_0x2e0ee2+_0x180395,_0x1700f1[_0x9b2cc4(0x2b7)](_0x180395));}}function createOfflineImpulseResponse(_0x2b47b7,_0x3f7b47=0x3,_0x171103=0x2){const _0x43fc1f=_0x235009,_0x513f98=_0x2b47b7[_0x43fc1f(0x1c3)],_0x488e85=_0x513f98*_0x3f7b47,_0x226a0f=_0x2b47b7['createBuffer'](0x2,_0x488e85,_0x513f98);for(let _0x149cb8=0x0;_0x149cb8<0x2;_0x149cb8++){const _0x3090ac=_0x226a0f['getChannelData'](_0x149cb8);let _0x166cba=0x0;for(let _0x492794=0x0;_0x492794<_0x488e85;_0x492794++){const _0x3434bb=Math[_0x43fc1f(0x31b)]()*0x2-0x1;_0x166cba=_0x166cba+0.12*(_0x3434bb-_0x166cba);const _0x2aa29c=_0x492794/_0x488e85,_0x52199d=Math[_0x43fc1f(0x2d2)](-_0x171103*_0x2aa29c*(_0x3f7b47/0x3));_0x3090ac[_0x492794]=_0x166cba*_0x52199d;}}return _0x226a0f;}window[_0x235009(0x218)]=async()=>{const _0x53ef69=_0x235009,_0x435d0f=getCurrentDisplayList();if(currentTrackIndex<0x0||!_0x435d0f[currentTrackIndex]){customAlert(_0x53ef69(0x27d));return;}const _0x3a75c0=_0x435d0f[currentTrackIndex],_0x53d7f7=controlValues[_0x53ef69(0x2d8)]||0x1;$(_0x53ef69(0x333))['textContent']='Preparing\x20Export...';const _0x70b854=await _0x3a75c0['blob'][_0x53ef69(0x2b4)](),_0x18af6e=await audioContext[_0x53ef69(0x1f6)](_0x70b854),_0x228067=_0x18af6e[_0x53ef69(0x21f)]/_0x53d7f7,_0x1f44fa=0xa;_0x228067>_0x1f44fa*0x3c?customConfirm('Output\x20is\x20very\x20long\x20('+(_0x228067/0x3c)['toFixed'](0x1)+'\x20mins).\x20It\x20may\x20freeze\x20your\x20device.\x20Continue?',()=>startRenderingProcess(_0x18af6e,_0x228067,_0x3a75c0['name'])):startRenderingProcess(_0x18af6e,_0x228067,_0x3a75c0[_0x53ef69(0x1d6)]);};function updateExportButtonState(_0x1b6df7){const _0x4ed6bb=_0x235009,_0x46e1ae=$('#btn-export');if(!_0x46e1ae)return;_0x1b6df7?(_0x46e1ae[_0x4ed6bb(0x200)]=!![],_0x46e1ae[_0x4ed6bb(0x19e)]['add'](_0x4ed6bb(0x331)),_0x46e1ae[_0x4ed6bb(0x1c1)]='<i\x20class=\x22ph-bold\x20ph-hourglass\x20animate-hourglass\x20text-sm\x22></i>',document['body'][_0x4ed6bb(0x2ff)][_0x4ed6bb(0x2e5)]='wait'):(_0x46e1ae[_0x4ed6bb(0x200)]=![],_0x46e1ae[_0x4ed6bb(0x19e)][_0x4ed6bb(0x171)](_0x4ed6bb(0x331)),_0x46e1ae[_0x4ed6bb(0x1c1)]=_0x4ed6bb(0x1a8),document[_0x4ed6bb(0x201)][_0x4ed6bb(0x2ff)][_0x4ed6bb(0x2e5)]=_0x4ed6bb(0x1a6),_0x46e1ae['classList'][_0x4ed6bb(0x171)]('btn-working-analog'),_0x46e1ae[_0x4ed6bb(0x19e)][_0x4ed6bb(0x171)](_0x4ed6bb(0x261),_0x4ed6bb(0x1db)),_0x46e1ae[_0x4ed6bb(0x19e)]['add'](_0x4ed6bb(0x261)));}async function startRenderingProcess(_0x47f7fe,_0x2bae84,_0x113563){const _0x33384b=_0x235009,_0x285896=$('#btn-export');if(_0x285896[_0x33384b(0x200)])return;updateExportButtonState(!![]),$(_0x33384b(0x333))[_0x33384b(0x23e)]='Processing\x20Audio...\x200%';let _0x6418e7=null;try{const _0x2a457c=isReverbOn?0x2:0x0,_0x412817=0xac44,_0x3ee471=new OfflineAudioContext(0x2,(_0x2bae84+_0x2a457c)*_0x412817,_0x412817),_0x293d2e=await _0x1aa533(_0x3ee471),_0x32ac43=[];for(let _0xa1e181=0x0;_0xa1e181<_0x47f7fe['numberOfChannels'];_0xa1e181++){_0x32ac43['push'](new Float32Array(_0x47f7fe['getChannelData'](_0xa1e181)));}await _0x293d2e[_0x33384b(0x289)](_0x32ac43),await new Promise(_0x65e9bf=>setTimeout(_0x65e9bf,0xc8)),_0x293d2e[_0x33384b(0x237)]({'active':!![],'input':0x0,'rate':controlValues[_0x33384b(0x2d8)],'semitones':controlValues[_0x33384b(0x334)]});let _0x471277=_0x293d2e;const _0x3866c6=Array[_0x33384b(0x1c2)](document[_0x33384b(0x2f1)](_0x33384b(0x24d)))[_0x33384b(0x234)](_0x44bff0=>parseFloat(_0x44bff0[_0x33384b(0x1eb)]));if(isEqOn){let _0x5d81ea=_0x293d2e;FREQUENCIES[_0x33384b(0x250)]((_0x4ff94d,_0xa57a47)=>{const _0x2ed5aa=_0x33384b,_0x18af33=_0x3ee471[_0x2ed5aa(0x2cc)]();_0x18af33['type']=_0x2ed5aa(0x25d),_0x18af33[_0x2ed5aa(0x1b9)][_0x2ed5aa(0x1eb)]=_0x4ff94d,_0x18af33['Q']['value']=1.4,_0x18af33[_0x2ed5aa(0x2e4)][_0x2ed5aa(0x1eb)]=_0x3866c6[_0xa57a47]||0x0,_0x5d81ea[_0x2ed5aa(0x196)](_0x18af33),_0x5d81ea=_0x18af33;}),_0x471277=_0x5d81ea;}const _0x20a8b1=_0x3ee471[_0x33384b(0x22b)]();_0x20a8b1[_0x33384b(0x2e4)]['value']=parseFloat($(_0x33384b(0x1b7))[_0x33384b(0x1eb)]),_0x471277[_0x33384b(0x196)](_0x20a8b1),_0x20a8b1[_0x33384b(0x196)](_0x3ee471[_0x33384b(0x293)]);if(isReverbOn){const _0x3075d3=_0x3ee471[_0x33384b(0x1b3)]();_0x3075d3[_0x33384b(0x326)]=createOfflineImpulseResponse(_0x3ee471);const _0x38788e=_0x3ee471['createGain']();_0x38788e[_0x33384b(0x2e4)][_0x33384b(0x1eb)]=parseFloat($('#main-reverb')[_0x33384b(0x1eb)]),_0x471277[_0x33384b(0x196)](_0x3075d3),_0x3075d3[_0x33384b(0x196)](_0x38788e),_0x38788e[_0x33384b(0x196)](_0x3ee471[_0x33384b(0x293)]);}$('#marquee')[_0x33384b(0x23e)]=_0x33384b(0x1fb);const _0x14d56e=await _0x3ee471[_0x33384b(0x2c9)]();return $(_0x33384b(0x333))['textContent']=_0x33384b(0x2cd),new Promise((_0x46eb61,_0x5c859f)=>{const _0x4d20cd=_0x33384b;_0x6418e7=new Worker(_0x4d20cd(0x32e));const _0x50aa86=new Float32Array(_0x14d56e['getChannelData'](0x0)),_0x2a6c44=_0x14d56e[_0x4d20cd(0x315)]>0x1?new Float32Array(_0x14d56e[_0x4d20cd(0x339)](0x1)):new Float32Array(_0x14d56e[_0x4d20cd(0x339)](0x0)),_0x5abd87=[_0x50aa86,_0x2a6c44];_0x6418e7[_0x4d20cd(0x1d0)]({'channelData':_0x5abd87,'sampleRate':_0x14d56e['sampleRate'],'channels':0x2},[_0x50aa86[_0x4d20cd(0x326)],_0x2a6c44[_0x4d20cd(0x326)]]),_0x6418e7[_0x4d20cd(0x28f)]=function(_0x4f6d1c){const _0x326b9b=_0x4d20cd;if(_0x4f6d1c['data'][_0x326b9b(0x229)]===_0x326b9b(0x2e2)){const _0x79a952=Math[_0x326b9b(0x22d)](_0x4f6d1c[_0x326b9b(0x1e9)][_0x326b9b(0x1eb)]*0x64);$(_0x326b9b(0x333))[_0x326b9b(0x23e)]=_0x326b9b(0x1a5)+_0x79a952+'%)';}else{if(_0x4f6d1c[_0x326b9b(0x1e9)][_0x326b9b(0x229)]==='done'){const _0x2bce11=URL[_0x326b9b(0x1bd)](_0x4f6d1c[_0x326b9b(0x1e9)][_0x326b9b(0x336)]),_0x52dc2e=document[_0x326b9b(0x2e8)]('a');_0x52dc2e['style'][_0x326b9b(0x1bc)]=_0x326b9b(0x1b4),_0x52dc2e['href']=_0x2bce11;const _0x16e937=_0x113563['replace'](/\.[^/.]+$/,'');_0x52dc2e[_0x326b9b(0x2cb)]=_0x326b9b(0x2c2)+_0x16e937+_0x326b9b(0x340),document[_0x326b9b(0x201)][_0x326b9b(0x187)](_0x52dc2e),_0x52dc2e['click'](),setTimeout(()=>{const _0x3c4eec=_0x326b9b;document[_0x3c4eec(0x201)][_0x3c4eec(0x224)](_0x52dc2e),window[_0x3c4eec(0x1d4)][_0x3c4eec(0x19d)](_0x2bce11),$(_0x3c4eec(0x333))[_0x3c4eec(0x23e)]=_0x3c4eec(0x20b),updateExportButtonState(![]);if(_0x6418e7)_0x6418e7[_0x3c4eec(0x1ee)]();_0x46eb61();},0x64);}}},_0x6418e7['onerror']=function(_0x2b721c){const _0x6d3366=_0x4d20cd;console[_0x6d3366(0x2fe)](_0x2b721c),customAlert(_0x6d3366(0x33f)+_0x2b721c[_0x6d3366(0x295)]),updateExportButtonState(![]);if(_0x6418e7)_0x6418e7[_0x6d3366(0x1ee)]();_0x5c859f(_0x2b721c);};});}catch(_0x1350c4){console[_0x33384b(0x2fe)](_0x1350c4),customAlert('Export\x20Failed:\x20'+_0x1350c4['message']),$(_0x33384b(0x333))['textContent']=_0x33384b(0x2e7),updateExportButtonState(![]);if(_0x6418e7)_0x6418e7[_0x33384b(0x1ee)]();}}document[_0x235009(0x2e0)](_0x235009(0x2f2),_0x5a07c6=>{const _0x2e64ee=_0x235009;if(_0x5a07c6[_0x2e64ee(0x19a)]===_0x2e64ee(0x251)||_0x5a07c6[_0x2e64ee(0x285)]==='\x20'){const _0x19de5b=document[_0x2e64ee(0x28b)]['tagName'][_0x2e64ee(0x288)](),_0xdf925c=document[_0x2e64ee(0x28b)][_0x2e64ee(0x229)];if(_0x19de5b===_0x2e64ee(0x232)||_0x19de5b===_0x2e64ee(0x21a)&&_0xdf925c===_0x2e64ee(0x2dd))return;_0x5a07c6[_0x2e64ee(0x2c6)](),controlValues[_0x2e64ee(0x18e)]?$('#btn-pause')[_0x2e64ee(0x1a0)]():$(_0x2e64ee(0x195))['click']();}});let peerHost=null,currentConn=null,incomingFile={'buffer':[],'receivedSize':0x0,'meta':null};function _0x1f6b(_0x3b9ac6,_0x19f529){_0x3b9ac6=_0x3b9ac6-0x168;const _0x11dad8=_0x11da();let _0x1f6b7c=_0x11dad8[_0x3b9ac6];return _0x1f6b7c;}window[_0x235009(0x2ca)]=()=>{const _0x2af900=_0x235009;$(_0x2af900(0x2af))[_0x2af900(0x19e)][_0x2af900(0x283)](_0x2af900(0x27c)),$(_0x2af900(0x2fc))['classList']['remove'](_0x2af900(0x27c));if(!peerHost)initPeerHost();else{if(peerHost['id']){const _0x49ac43=window[_0x2af900(0x290)][_0x2af900(0x320)]+_0x2af900(0x2c8)+peerHost['id'];$(_0x2af900(0x318))[_0x2af900(0x23e)]=_0x49ac43,$('#qrcode-container')['innerHTML']='',new QRCode(document['getElementById']('qrcode-container'),{'text':_0x49ac43,'width':0x96,'height':0x96});}}},window[_0x235009(0x338)]=()=>{const _0x5b1c9b=_0x235009;$(_0x5b1c9b(0x2fc))[_0x5b1c9b(0x19e)][_0x5b1c9b(0x283)]('hidden'),currentConn&&(currentConn[_0x5b1c9b(0x33d)](),currentConn=null),$(_0x5b1c9b(0x28d))[_0x5b1c9b(0x1c1)]='';};function logPeer(_0x4acda2){const _0x2e8c7b=_0x235009,_0x1a2fa2=$(_0x2e8c7b(0x254));if(!_0x1a2fa2)return;const _0x46680b=document[_0x2e8c7b(0x2e8)](_0x2e8c7b(0x300));_0x46680b['textContent']='>\x20'+_0x4acda2,_0x1a2fa2['appendChild'](_0x46680b),_0x1a2fa2['scrollTop']=_0x1a2fa2[_0x2e8c7b(0x27a)];}function initPeerHost(){const _0x453b2c=_0x235009;peerHost=new Peer(),peerHost['on'](_0x453b2c(0x1b8),_0x26b37b=>{const _0x36428d=_0x453b2c;logPeer(_0x36428d(0x33e)+_0x26b37b);const _0x12e631=window[_0x36428d(0x290)][_0x36428d(0x320)]+_0x36428d(0x2c8)+_0x26b37b;$('#peer-link-text')['textContent']=_0x12e631,$(_0x36428d(0x28d))[_0x36428d(0x1c1)]='',new QRCode(document[_0x36428d(0x211)](_0x36428d(0x233)),{'text':_0x12e631,'width':0x96,'height':0x96}),logPeer(_0x36428d(0x1d1));}),peerHost['on'](_0x453b2c(0x174),_0x3bf508=>{const _0x53714e=_0x453b2c;if(currentConn)currentConn[_0x53714e(0x33d)]();currentConn=_0x3bf508,logPeer('Client\x20Connected!'),_0x3bf508['on'](_0x53714e(0x1e9),async _0x4c7f07=>{const _0x491296=_0x53714e;if(_0x4c7f07[_0x491296(0x229)]===_0x491296(0x223))incomingFile[_0x491296(0x223)]=_0x4c7f07,incomingFile['buffer']=[],incomingFile[_0x491296(0x193)]=0x0,$('#host-progress-wrap')[_0x491296(0x19e)][_0x491296(0x171)](_0x491296(0x27c)),$('#host-progress-bar')[_0x491296(0x2ff)][_0x491296(0x181)]='0%',logPeer(_0x491296(0x238)+_0x4c7f07[_0x491296(0x1d6)]+'...');else{if(_0x4c7f07[_0x491296(0x229)]==='sync')_0x3bf508['send']({'type':_0x491296(0x1d2)});else{if(_0x4c7f07[_0x491296(0x229)]==='end'){if(incomingFile[_0x491296(0x193)]!==incomingFile[_0x491296(0x223)]['size']){logPeer(_0x491296(0x248)+incomingFile[_0x491296(0x223)][_0x491296(0x19c)]+_0x491296(0x271)+incomingFile[_0x491296(0x193)]),alert(_0x491296(0x1a7)),incomingFile[_0x491296(0x326)]=[];return;}logPeer('Verifying\x20&\x20Saving...'),$(_0x491296(0x2fb))[_0x491296(0x19e)][_0x491296(0x283)](_0x491296(0x27c));try{const _0x46332f=new Blob(incomingFile[_0x491296(0x326)],{'type':incomingFile[_0x491296(0x223)]['mime']}),_0x46d9e5=new File([_0x46332f],incomingFile[_0x491296(0x223)][_0x491296(0x1d6)],{'type':incomingFile['meta'][_0x491296(0x2bd)]});await handleFiles([_0x46d9e5]),logPeer(_0x491296(0x2a5)+incomingFile[_0x491296(0x223)][_0x491296(0x1d6)]+_0x491296(0x2b0)),_0x3bf508[_0x491296(0x1c5)]({'type':_0x491296(0x1dd)});}catch(_0x5c6e6d){console[_0x491296(0x2fe)](_0x5c6e6d),logPeer(_0x491296(0x287)+_0x5c6e6d['message']);}incomingFile[_0x491296(0x326)]=[];}else{if(_0x4c7f07 instanceof ArrayBuffer||_0x4c7f07 instanceof Uint8Array){incomingFile['buffer']['push'](_0x4c7f07),incomingFile[_0x491296(0x193)]+=_0x4c7f07[_0x491296(0x1c6)]||_0x4c7f07[_0x491296(0x298)];if(incomingFile[_0x491296(0x223)]&&incomingFile[_0x491296(0x223)][_0x491296(0x19c)]>0x0){const _0x459e3b=incomingFile[_0x491296(0x193)]/ incomingFile['meta'][_0x491296(0x19c)]*0x64;$(_0x491296(0x2f3))[_0x491296(0x2ff)][_0x491296(0x181)]=_0x459e3b+'%';}}}}}}),_0x3bf508['on'](_0x53714e(0x33d),()=>{logPeer('Client\x20Disconnected.'),currentConn=null;}),_0x3bf508['on'](_0x53714e(0x2fe),_0x47b05c=>logPeer(_0x53714e(0x313)+_0x47b05c));}),peerHost['on'](_0x453b2c(0x2fe),_0x471c2d=>{const _0x19b6c3=_0x453b2c;logPeer(_0x19b6c3(0x2c1)+_0x471c2d[_0x19b6c3(0x229)]);});}